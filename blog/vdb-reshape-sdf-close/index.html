<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>VDB Reshape SDF Close | James Robinson 🌊</title><meta name=keywords content="tips,houdini,vdb,sdf,volume"><meta name=description content="Faster way to dilate and erode an SDF"><meta name=author content><link rel=canonical href=https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/><link crossorigin=anonymous href=/assets/css/stylesheet.31a1ec8ce187fd44934e170601c332903bca9bc902e9bca2c4b7205cf7203d32.css integrity="sha256-MaHsjOGH/USTThcGAcMykDvKm8kC6byixLcgXPcgPTI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.jamesrobinsonvfx.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.jamesrobinsonvfx.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.jamesrobinsonvfx.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.jamesrobinsonvfx.com/apple-touch-icon.png><link rel=mask-icon href=https://www.jamesrobinsonvfx.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🌊</text></svg>"><meta property="og:title" content="VDB Reshape SDF Close"><meta property="og:description" content="Faster way to dilate and erode an SDF"><meta property="og:type" content="article"><meta property="og:url" content="https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/"><meta property="og:image" content="https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview.jpg"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-07-29T00:00:00+00:00"><meta property="article:modified_time" content="2021-07-29T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview.jpg"><meta name=twitter:title content="VDB Reshape SDF Close"><meta name=twitter:description content="Faster way to dilate and erode an SDF"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blog 🪶","item":"https://www.jamesrobinsonvfx.com/blog/"},{"@type":"ListItem","position":3,"name":"VDB Reshape SDF Close","item":"https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"VDB Reshape SDF Close","name":"VDB Reshape SDF Close","description":"Faster way to dilate and erode an SDF","keywords":["tips","houdini","vdb","sdf","volume"],"articleBody":" Hipfile: jamesr_vdbreshapesdfclose.hip\nDilate and Erode (Old) Most people are probably familiar with the following workflow for sealing up gaps and holes in an SDF using 2 VDB Reshape SDF nodes:\nSet the first one to Dilate Set the second one to Erode Channel reference the Offset parameter from the dilating node to the Offset parameter of the eroding node. Adjust the offset until you’re happy If you want to keep a filled interior, don’t forget to set the Trim parameter to None (Houdini 18.5+)!\nOld way\nClose (New) Not sure when this was added (or maybe it has been here the whole time!), but there is another method that does the exact same thing in one go: Close.\nNew way\nConclusion A side-by-side comparison of the two looks like you get the same result!\nSide by side comparison\n","wordCount":"138","inLanguage":"en","image":"https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview.jpg","datePublished":"2021-07-29T00:00:00Z","dateModified":"2021-07-29T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/"},"publisher":{"@type":"Organization","name":"James Robinson 🌊","logo":{"@type":"ImageObject","url":"https://www.jamesrobinsonvfx.com/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.jamesrobinsonvfx.com accesskey=h title="James Robinson 🌊 (Alt + H)">James Robinson 🌊</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.jamesrobinsonvfx.com title="blog 🪶"><span>blog 🪶</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/projects title="projects 🪛"><span>projects 🪛</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/snippets title="snippets 🧰"><span>snippets 🧰</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/links title="links 🔗"><span>links 🔗</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/about title="about 👋"><span>about 👋</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/search/ title="search 🔍"><span>search 🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>VDB Reshape SDF Close</h1><div class=post-meta><span title='2021-07-29 00:00:00 +0000 UTC'>July 29, 2021</span>&nbsp;·&nbsp;1 min</div></header><figure class=entry-cover><a href=https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview.jpg target=_blank rel="noopener noreferrer"><img loading=lazy srcset="https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview_hu7fba9da1679ce4a56c592454604cb9c1_397508_360x0_resize_q75_box.jpg 360w ,https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview_hu7fba9da1679ce4a56c592454604cb9c1_397508_480x0_resize_q75_box.jpg 480w ,https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview_hu7fba9da1679ce4a56c592454604cb9c1_397508_720x0_resize_q75_box.jpg 720w ,https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview_hu7fba9da1679ce4a56c592454604cb9c1_397508_1080x0_resize_q75_box.jpg 1080w ,https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview_hu7fba9da1679ce4a56c592454604cb9c1_397508_1500x0_resize_q75_box.jpg 1500w ,https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview.jpg 2220w" sizes="(min-width: 768px) 720px, 100vw" src=https://www.jamesrobinsonvfx.com/blog/vdb-reshape-sdf-close/images/preview.jpg alt="Cover Photo" width=2220 height=1450></a><p>VDB Reshape SDF (Close)</p></figure><div class=post-content><blockquote><p>Hipfile: <a href=houdini/hip/jamesr_vdbreshapesdfclose.hiplc>jamesr_vdbreshapesdfclose.hip</a></p></blockquote><h3 id=dilate-and-erode-old>Dilate and Erode (Old)<a hidden class=anchor aria-hidden=true href=#dilate-and-erode-old>🔗</a></h3><p>Most people are probably familiar with the following workflow for sealing up gaps and holes in an SDF using 2 <strong>VDB Reshape SDF</strong> nodes:</p><ol><li>Set the first one to <strong>Dilate</strong></li><li>Set the second one to <strong>Erode</strong></li><li>Channel reference the <strong>Offset</strong> parameter from the dilating node to the
<strong>Offset</strong> parameter of the eroding node.</li><li>Adjust the offset until you&rsquo;re happy</li></ol><blockquote><p>If you want to keep a filled interior, don&rsquo;t forget to set the <strong>Trim</strong>
parameter to <strong>None</strong> (Houdini 18.5+)!</p></blockquote><figure><img loading=lazy src=images/old-way.jpg alt="Old way"><figcaption><p>Old way</p></figcaption></figure><h3 id=close-new>Close (New)<a hidden class=anchor aria-hidden=true href=#close-new>🔗</a></h3><p>Not sure when this was added (or maybe it has been here the whole time!), but there is another method that does the exact same thing in one go: <strong>Close</strong>.</p><figure><img loading=lazy src=images/new-way.jpg alt="New way"><figcaption><p>New way</p></figcaption></figure><h3 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>🔗</a></h3><p>A side-by-side comparison of the two looks like you get the same result!</p><figure><img loading=lazy src=images/side-by-side.gif alt="Side by side comparison"><figcaption><p>Side by side comparison</p></figcaption></figure></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.jamesrobinsonvfx.com/tags/tips/>tips</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/houdini/>houdini</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/vdb/>vdb</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/sdf/>sdf</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/volume/>volume</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://www.jamesrobinsonvfx.com>James Robinson 🌊</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.8)"})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>