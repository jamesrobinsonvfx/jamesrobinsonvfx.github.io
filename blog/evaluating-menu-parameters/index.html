<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Evaluating Menu Parameters | James Robinson 🌊</title><meta name=keywords content="reference,ui,houdini,parameters,python,menu"><meta name=description content="Explore the results of evaluating menu parameters with various methods"><meta name=author content><link rel=canonical href=https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/><link crossorigin=anonymous href=/assets/css/stylesheet.c18f0e70982d46e72f09a1b9c081ddb26b145e34778ccbb832592b0ab8dcbd67.css integrity="sha256-wY8OcJgtRucvCaG5wIHdsmsUXjR3jMu4MlkrCrjcvWc=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.jamesrobinsonvfx.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.jamesrobinsonvfx.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.jamesrobinsonvfx.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.jamesrobinsonvfx.com/apple-touch-icon.png><link rel=mask-icon href=https://www.jamesrobinsonvfx.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🌊</text></svg>"><meta property="og:title" content="Evaluating Menu Parameters"><meta property="og:description" content="Explore the results of evaluating menu parameters with various methods"><meta property="og:type" content="article"><meta property="og:url" content="https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/"><meta property="og:image" content="https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/images/preview.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-01-30T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-30T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/images/preview.png"><meta name=twitter:title content="Evaluating Menu Parameters"><meta name=twitter:description content="Explore the results of evaluating menu parameters with various methods"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blog 🪶","item":"https://www.jamesrobinsonvfx.com/blog/"},{"@type":"ListItem","position":3,"name":"Evaluating Menu Parameters","item":"https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Evaluating Menu Parameters","name":"Evaluating Menu Parameters","description":"Explore the results of evaluating menu parameters with various methods","keywords":["reference","ui","houdini","parameters","python","menu"],"articleBody":"Menu Parameters \u0026 Evaluation Results I can never remember off the top of my head when a menu parameter is going to evaluate the token string, or an integer, or a string representation of an integer without first doing a quick little check in the Python Shell…so here’s a table that should help future James and maybe some other folks as well. Each test was done with the parameters set to use a Normal menu, with the tokens item0, item1…\nParameter Type hou.Parm.eval() hou.Parm.evalAsString() hou.Parm.evalAsInt() ch() chs() kwargs[\"script_value\"] Ordered Menu 1 “item1” 1 1 “item1” “item1” String “item1” “item1” TypeError 0 “item1” “item1” Integer 1 “1” 1 1 “1” “1” Cells with formatting like 0, and 1 are integer types. Cells in double quotes \" are string types.\nOverview Houdini offers a few ways to both create and evaluate dropdown menu parameters.\nThe way you configure these menu parameters affect how they get evaluated in different contexts (hscript, Python, parameter callbacks, etc.). Let’s take a look at what that means, and come up with a quick reference table that we can use when debugging or creating new interfaces.\nHipfile: jamesr_evaluatingmenuparameters.hiplc\nMenu Parameter Types Typical dropdown menu\nWhat’s a menu made of? Houdini menus are made up of item/label pairs.\nItem/Label Pairs\nLabel Labels are the “nice names” that the user sees in the dropdown.\nUsing Python, you can get a list of a menu parameter’s labels with\nhou.parm(\"/obj/geo1/null1/greetings\").menuLabels() ('Hi', 'Hallo', 'Kia ora', 'Hej hej', 'こんにちは') If you ever want to get the label of the currently selected menu item, try this:\nparm = hou.parm(\"/obj/geo1/null1/greetings\") parm.menuLabels()[parm.evalAsInt()] 'Hallo' Item (Token) A Menu Item is the internal name used by Houdini. You can optionally specify a token for each menu item which can be used for setting and evaluating the menu as a string, and for use with disable/hide when rules.\nJust because you put something as the token, doesn’t mean that’s always what you’ll get when you evaluate it (see the table above).\nUsing Python, you can get a list of a menu parameter’s items/tokens using:\nhou.parm(\"/obj/geo1/null1/greetings\").menuItems() ('hi', 'hallo', 'kiaora', 'hej', 'konnichiwa') Ordered Menu In general, most of the menu parameters I come across (and create) use the Ordered Menu parameter type. This parameter type creates the classic dropdown that you’ve likely seen countless times:\nTypical dropdown menu\nTypical dropdown menu settings\nThese can be created directly in the Type Properties / Edit Parameter Interface UI by either explicitly specifying a list of token/label pairs\nConfiguring and Ordered Menu parameter in the Edit Parameter Interface window\nor more dynamically through a Python parameter menu script.\nAn example of Python Parameter Menu Script\ngreetings.json greetings.json\n{ \"greetings\": [ {\"language\": \"english\", \"token\": \"hi\", \"label\": \"Hi\"}, {\"language\": \"german\", \"token\": \"hallo\", \"label\": \"Hallo\"}, {\"language\": \"te reo\", \"token\": \"kiaora\", \"label\": \"Kia ora\"}, {\"language\": \"swedish\", \"token\": \"hej\", \"label\": \"Hej hej\"}, {\"language\": \"japanese\", \"token\": \"konnichiwa\", \"label\": \"こんにちは\"} ] } For more info on generating menus with Python:\nGenerating a menu from attributes\nParameter Menu Scripts\nQuick Menu Script List\nString or Integer Parameter with “Use Menu” Enabled Another common place to use menus are String and Integer parameter types.\nThese menus are often used to help populate a field, for instance when selecting several attributes to get rid of in the Attribute Delete SOP.\nAttribute Delete SOP Menu with attributes expanded\nA regular String parameter type can be made to use a menu by enabling the following toggle on the right side of the Type Properties / Edit Parameter Interface window:\nUse Menu toggle\nWhen using the Normal option, the menu will appear just like the ordinary Ordered Menu parameter type. The other two common options are Replace and Toggle - these will add a small mini-menu to the right of the string/int parameter from which you can select and populate the string/int field. Those are the styles that are most familiar from nodes like Attribute Delete etc.\nWhy would I ever use the “Normal” mode if I’m using a string or int parameter? Can’t I just use an Ordered Menu? Usually an Ordered Menu is just fine - but one advantage is explicitness. If you want to make sure your menu always returns a string when using HOM’s hou.Parm.eval(), you can create a String parameter, enable Use Menu, and keep it as Normal (Menu Only, Single Selection). Whenever someone evaluates the parameter with hou.evalParm(\"/obj/geo1/null1/mymenuparm\"), they will get a string back which is not the case with the standard Ordered Menu type (which would need hou.Parm.evalAsString(), even if your token looks like a string).\nTest Cases For testing, I’m using the following menu parameters:\nOrdered Menu String Parameter with Normal menu enabled Integer Parameter with Normal menu enabled Menus on the Parameter Interface\nThey each have different labels, but the menu items/tokens are all the same: item0, item1…\nThe results in the tables below were gathered when the menus were changed to their second dropdown item (item1).\nSee the hipfile above to check it out yourself.\nMenu testing interface from hipfile\n`hou.Parm.eval()` hou.Parm.eval() value = parm(\"orderedmenu\").eval() return f\"{value} {type(value)}\" Parameter Type hou.Parm.eval() Type Ordered Menu 1 int String item1 str Integer 1 int `hou.Parm.evalAsString()` hou.Parm.evalAsString() value = parm(\"orderedmenu\").evalAsString() return f\"{value} {type(value)}\" Parameter Type hou.Parm.evalAsString() Type Ordered Menu item1 str String item1 str Integer 1 str `hou.Parm.evalAsInt()` hou.Parm.evalAsInt() value = parm(\"orderedmenu\").evalAsInt() return f\"{value} {type(value)}\" Parameter Type hou.Parm.evalAsInt() Type Ordered Menu 1 int String TypeError Integer 1 int `ch()` ch() ch(\"orderedmenu\") Parameter Type ch() Type Ordered Menu 1 int String 0 int Integer 1 int `chs()` chs() chs(\"orderedmenu\") Parameter Type chs() Type Ordered Menu item1 str String item1 str Integer 1 str `kwargs[\"script_value\"]` kwargs[\"script_value\"] value = kwargs[\"script_value\"] hou.ui.displayMessage(f\"kwargs['script_value'] = {value}\\n\\n{type(value)}\") Parameter Callback (Python)\nParameter Type kwargs[\"script_value\"] Type Ordered Menu item1 str String item1 str Integer 1 str When implementing parameter callbacks, Houdini gives us access to a Python dictionary named kwargs filled with useful info about the parameter. One of those keys is called script_value, which according to the docs is equivalent to kwargs[\"parm\"].eval() (see above - this isn’t quite always the case, especially when it comes to int/float parameters, since it always seems to return a string).\nSee Also Parameter Callback Scripts\nFinal Thoughts Ordered Menus and String Parameters can be set using their tokens like so:\nhou.parm(\"/obj/geo1/null1/orderedmenu\").set(\"item1\") When an integer parm using a Normal menu that has tokens is evaluated as a string, it will not return the token, but rather a string representation of the selected index.\nYou cannot set an integer menu parameter by its token like you can with a string parameter / ordered menu unless the token you’re trying to set it to is a string representation of a numerical value, like \"1000\", \"42\" etc.\nUse Token as Value This reply from SESI on the SideFX Forums describes well what Use Token as Value does.\nWhen you have Use Token as Value enabled on an integer parameter with a menu (or an Ordered Menu), and your tokens are string representations of numbers like \"1000\" or\"42\", instead of evaluating to the menu index as usual, Houdini will try to use that value instead.\nFor instance, if our integer parameter has the following menu:\nToken Label item0 Int Label 0 item1 Int Label 1 42 Forty Two and we have Use Token as Value disabled, calls like hou.Parm.eval() and ch() will evaluate to the selected menu index 2\nUse Token and Value disabled\nOnce we turn on Use Token as Value, we get 42\nUse Token as Value enabled\nSee it in use for real on the Vellum Constraints node’s stretchstiffnessexp parameter.\n","wordCount":"1255","inLanguage":"en","image":"https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/images/preview.png","datePublished":"2023-01-30T00:00:00Z","dateModified":"2023-01-30T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/"},"publisher":{"@type":"Organization","name":"James Robinson 🌊","logo":{"@type":"ImageObject","url":"https://www.jamesrobinsonvfx.com/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.jamesrobinsonvfx.com accesskey=h title="James Robinson 🌊 (Alt + H)">James Robinson 🌊</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.jamesrobinsonvfx.com title="blog 🪶"><span>blog 🪶</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/projects title="projects 🪛"><span>projects 🪛</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/snippets title="snippets 🧰"><span>snippets 🧰</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/links title="links 🔗"><span>links 🔗</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/about title="about 👋"><span>about 👋</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/search/ title="search 🔍"><span>search 🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Evaluating Menu Parameters</h1><div class=post-meta><span title='2023-01-30 00:00:00 +0000 UTC'>January 30, 2023</span>&nbsp;·&nbsp;6 min</div></header><figure class=entry-cover><a href=https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/images/preview.png target=_blank rel="noopener noreferrer"><img loading=lazy srcset="https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/images/preview_hu28abbad75e187a72c4649fd7fbfb8902_54551_360x0_resize_box_3.png 360w ,https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/images/preview.png 367w" sizes="(min-width: 768px) 720px, 100vw" src=https://www.jamesrobinsonvfx.com/blog/evaluating-menu-parameters/images/preview.png alt="Cover Photo" width=367 height=340></a><p>Evaluating menu parameters</p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#menu-parameters--evaluation-results aria-label="Menu Parameters &amp;amp; Evaluation Results">Menu Parameters & Evaluation Results</a></li><li><a href=#overview aria-label=Overview>Overview</a></li><li><a href=#menu-parameter-types aria-label="Menu Parameter Types">Menu Parameter Types</a><ul><li><a href=#whats-a-menu-made-of aria-label="What&amp;rsquo;s a menu made of?">What&rsquo;s a menu made of?</a><ul><li><a href=#label aria-label=Label>Label</a></li><li><a href=#item-token aria-label="Item (Token)">Item (Token)</a></li></ul></li><li><a href=#ordered-menu aria-label="Ordered Menu">Ordered Menu</a></li><li><a href=#string-or-integer-parameter-with-use-menu-enabled aria-label="String or Integer Parameter with &amp;ldquo;Use Menu&amp;rdquo; Enabled">String or Integer Parameter with &ldquo;Use Menu&rdquo; Enabled</a><ul><li><a href=#why-would-i-ever-use-the-normal-mode-if-im-using-a-string-or-int-parameter-cant-i-just-use-an-ordered-menu aria-label="Why would I ever use the &amp;ldquo;Normal&amp;rdquo; mode if I&amp;rsquo;m using a string or int parameter? Can&amp;rsquo;t I just use an Ordered Menu?">Why would I ever use the &ldquo;Normal&rdquo; mode if I&rsquo;m using a string or int parameter? Can&rsquo;t I just use an Ordered Menu?</a></li></ul></li><li><a href=#test-cases aria-label="Test Cases">Test Cases</a><ul><li><a href=#houparmeval aria-label=hou.Parm.eval()><code>hou.Parm.eval()</code></a></li><li><a href=#houparmevalasstring aria-label=hou.Parm.evalAsString()><code>hou.Parm.evalAsString()</code></a></li><li><a href=#houparmevalasint aria-label=hou.Parm.evalAsInt()><code>hou.Parm.evalAsInt()</code></a></li><li><a href=#ch aria-label=ch()><code>ch()</code></a></li><li><a href=#chs aria-label=chs()><code>chs()</code></a></li><li><a href=#kwargsscript_value aria-label=kwargs[&amp;quot;script_value&amp;quot;]><code>kwargs["script_value"]</code></a></li></ul></li></ul></li><li><a href=#final-thoughts aria-label="Final Thoughts">Final Thoughts</a><ul><li><a href=#use-token-as-value aria-label="Use Token as Value">Use Token as Value</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=menu-parameters--evaluation-results>Menu Parameters & Evaluation Results<a hidden class=anchor aria-hidden=true href=#menu-parameters--evaluation-results>🔗</a></h1><p>I can never remember off the top of my head when a menu parameter is going to evaluate the token string, or an integer, or a string representation of an integer without first doing a quick little check in the Python Shell&mldr;so here&rsquo;s a table that should help future James and maybe some other folks as well. Each test was done with the parameters set to use a <a href=#normal-menu>Normal</a> menu, with the tokens <code>item0</code>, <code>item1</code>&mldr;</p><table><thead><tr><th>Parameter Type</th><th><code>hou.Parm.eval()</code></th><th><code>hou.Parm.evalAsString()</code></th><th><code>hou.Parm.evalAsInt()</code></th><th><code>ch()</code></th><th><code>chs()</code></th><th><code>kwargs["script_value"]</code></th></tr></thead><tbody><tr><td>Ordered Menu</td><td><code>1</code></td><td>&ldquo;item1&rdquo;</td><td><code>1</code></td><td><code>1</code></td><td>&ldquo;item1&rdquo;</td><td>&ldquo;item1&rdquo;</td></tr><tr><td>String</td><td>&ldquo;item1&rdquo;</td><td>&ldquo;item1&rdquo;</td><td><code>TypeError</code></td><td><code>0</code></td><td>&ldquo;item1&rdquo;</td><td>&ldquo;item1&rdquo;</td></tr><tr><td>Integer</td><td><code>1</code></td><td>&ldquo;1&rdquo;</td><td><code>1</code></td><td><code>1</code></td><td>&ldquo;1&rdquo;</td><td>&ldquo;1&rdquo;</td></tr></tbody></table><blockquote><p>Cells with formatting like <code>0</code>, and <code>1</code> are integer types. Cells in double quotes <code>"</code> are string types.</p></blockquote><h1 id=overview>Overview<a hidden class=anchor aria-hidden=true href=#overview>🔗</a></h1><p>Houdini offers a few ways to both create and evaluate dropdown menu parameters.</p><p>The way you configure these menu parameters affect how they get evaluated in different contexts (hscript, Python, parameter callbacks, etc.). Let&rsquo;s take a look at what that means, and come up with a quick reference table that we can use when debugging or creating new interfaces.</p><blockquote><p>Hipfile: <a href=houdini/hip/jamesr_evaluatingmenuparameters.hiplc>jamesr_evaluatingmenuparameters.hiplc</a></p></blockquote><h1 id=menu-parameter-types>Menu Parameter Types<a hidden class=anchor aria-hidden=true href=#menu-parameter-types>🔗</a></h1><figure><img loading=lazy src=images/typical-dropdown-menu.png alt="Typical dropdown menu"><figcaption><p>Typical dropdown menu</p></figcaption></figure><h2 id=whats-a-menu-made-of>What&rsquo;s a menu made of?<a hidden class=anchor aria-hidden=true href=#whats-a-menu-made-of>🔗</a></h2><p>Houdini menus are made up of <em>item/label pairs</em>.</p><figure><img loading=lazy src=images/item-label-pairs.png alt="Item/Label Pairs"><figcaption><p>Item/Label Pairs</p></figcaption></figure><h3 id=label>Label<a hidden class=anchor aria-hidden=true href=#label>🔗</a></h3><p>Labels are the &ldquo;nice names&rdquo; that the user sees in the dropdown.</p><p>Using Python, you can get a list of a menu parameter&rsquo;s labels with</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>hou<span style=color:#81a1c1>.</span>parm<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;/obj/geo1/null1/greetings&#34;</span><span style=color:#eceff4>)</span><span style=color:#81a1c1>.</span>menuLabels<span style=color:#eceff4>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#39;Hi&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Hallo&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Kia ora&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Hej hej&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;こんにちは&#39;</span><span style=color:#eceff4>)</span>
</span></span></code></pre></div><blockquote><p>If you ever want to get the label of the currently selected menu item, try this:</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>parm <span style=color:#81a1c1>=</span> hou<span style=color:#81a1c1>.</span>parm<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;/obj/geo1/null1/greetings&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>parm<span style=color:#81a1c1>.</span>menuLabels<span style=color:#eceff4>()[</span>parm<span style=color:#81a1c1>.</span>evalAsInt<span style=color:#eceff4>()]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a3be8c>&#39;Hallo&#39;</span>
</span></span></code></pre></div></blockquote><h3 id=item-token>Item (Token)<a hidden class=anchor aria-hidden=true href=#item-token>🔗</a></h3><p>A <em>Menu Item</em> is the internal name used by Houdini. You can optionally specify a <em>token</em> for each menu item which can be used for setting and evaluating the menu as a string, and for use with <a href=https://www.sidefx.com/docs/houdini/ref/windows/optype.html#conditions>disable/hide when rules</a>.</p><p>Just because you put something as the token, doesn&rsquo;t mean that&rsquo;s <em>always</em> what you&rsquo;ll get when you evaluate it (<a href=#menu-parameters--evaluation-results>see the table above</a>).</p><p>Using Python, you can get a list of a menu parameter&rsquo;s items/tokens using:</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>hou<span style=color:#81a1c1>.</span>parm<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;/obj/geo1/null1/greetings&#34;</span><span style=color:#eceff4>)</span><span style=color:#81a1c1>.</span>menuItems<span style=color:#eceff4>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#39;hi&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;hallo&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;kiaora&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;hej&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;konnichiwa&#39;</span><span style=color:#eceff4>)</span>
</span></span></code></pre></div><h2 id=ordered-menu>Ordered Menu<a hidden class=anchor aria-hidden=true href=#ordered-menu>🔗</a></h2><p>In general, most of the menu parameters I come across (and create) use the <strong>Ordered Menu</strong> parameter type. This parameter type creates the classic dropdown that you&rsquo;ve likely seen countless times:</p><figure><img loading=lazy src=images/cover.png alt="Typical dropdown menu"><figcaption><p>Typical dropdown menu</p></figcaption></figure><figure><img loading=lazy src=images/ordered-menu-parm-type.png alt="Typical dropdown menu settings"><figcaption><p>Typical dropdown menu settings</p></figcaption></figure><p>These can be created directly in the Type Properties / Edit Parameter Interface UI by either explicitly specifying a list of token/label pairs</p><figure><img loading=lazy src=images/menu-item-label-pairs-only.png alt="Configuring and Ordered Menu parameter in the Edit Parameter Interface window"><figcaption><p>Configuring and Ordered Menu parameter in the Edit Parameter Interface window</p></figcaption></figure><p>or more dynamically through a Python parameter menu script.</p><figure><img loading=lazy src=images/python-menu-script-adv.png alt="An example of Python Parameter Menu Script"><figcaption><p>An example of Python Parameter Menu Script</p></figcaption></figure><p><details><summary markdown=span><code>greetings.json</code></summary><p><a href=greetings.json><code>greetings.json</code></a></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>    <span style=color:#81a1c1>&#34;greetings&#34;</span><span style=color:#eceff4>:</span> <span style=color:#eceff4>[</span>
</span></span><span style=display:flex><span>        <span style=color:#eceff4>{</span><span style=color:#81a1c1>&#34;language&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;english&#34;</span><span style=color:#eceff4>,</span> <span style=color:#81a1c1>&#34;token&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;hi&#34;</span><span style=color:#eceff4>,</span> <span style=color:#81a1c1>&#34;label&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;Hi&#34;</span><span style=color:#eceff4>},</span>
</span></span><span style=display:flex><span>        <span style=color:#eceff4>{</span><span style=color:#81a1c1>&#34;language&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;german&#34;</span><span style=color:#eceff4>,</span> <span style=color:#81a1c1>&#34;token&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;hallo&#34;</span><span style=color:#eceff4>,</span> <span style=color:#81a1c1>&#34;label&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;Hallo&#34;</span><span style=color:#eceff4>},</span>
</span></span><span style=display:flex><span>        <span style=color:#eceff4>{</span><span style=color:#81a1c1>&#34;language&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;te reo&#34;</span><span style=color:#eceff4>,</span> <span style=color:#81a1c1>&#34;token&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;kiaora&#34;</span><span style=color:#eceff4>,</span> <span style=color:#81a1c1>&#34;label&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;Kia ora&#34;</span><span style=color:#eceff4>},</span>
</span></span><span style=display:flex><span>        <span style=color:#eceff4>{</span><span style=color:#81a1c1>&#34;language&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;swedish&#34;</span><span style=color:#eceff4>,</span> <span style=color:#81a1c1>&#34;token&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;hej&#34;</span><span style=color:#eceff4>,</span> <span style=color:#81a1c1>&#34;label&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;Hej hej&#34;</span><span style=color:#eceff4>},</span>
</span></span><span style=display:flex><span>        <span style=color:#eceff4>{</span><span style=color:#81a1c1>&#34;language&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;japanese&#34;</span><span style=color:#eceff4>,</span> <span style=color:#81a1c1>&#34;token&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;konnichiwa&#34;</span><span style=color:#eceff4>,</span> <span style=color:#81a1c1>&#34;label&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;こんにちは&#34;</span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>    <span style=color:#eceff4>]</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span>
</span></span></code></pre></div></details></p><blockquote><p>For more info on generating menus with Python:</p><p><a href=https://www.sidefx.com/docs/houdini/hom/hou/SopNode.html#generateInputAttribMenu>Generating a menu from attributes</a></p><p><a href=https://www.sidefx.com/docs/houdini/hom/locations.html#parameter_menu_scripts>Parameter Menu Scripts</a></p><p><a href=https://gist.github.com/jamesrobinsonvfx/226a72a591e7663ea1fade594c1e13a4>Quick Menu Script List</a></p></blockquote><h2 id=string-or-integer-parameter-with-use-menu-enabled>String or Integer Parameter with &ldquo;Use Menu&rdquo; Enabled<a hidden class=anchor aria-hidden=true href=#string-or-integer-parameter-with-use-menu-enabled>🔗</a></h2><p>Another common place to use menus are <strong>String</strong> and <strong>Integer</strong> parameter types.</p><p>These menus are often used to help populate a field, for instance when selecting several attributes to get rid of in the <strong>Attribute Delete SOP</strong>.</p><figure><img loading=lazy src=images/attribdelete-mini-menu.png alt="Attribute Delete SOP Menu with attributes expanded"><figcaption><p>Attribute Delete SOP Menu with attributes expanded</p></figcaption></figure><p>A regular <strong>String</strong> parameter type can be made to use a menu by enabling the following toggle on the right side of the Type Properties / Edit Parameter Interface window:</p><figure><img loading=lazy src=images/use-menu-toggle.png alt="Use Menu toggle"><figcaption><p>Use Menu toggle</p></figcaption></figure><p><a name=normal-menu></a>
When using the <strong>Normal</strong> option, the menu will appear just like the ordinary <strong>Ordered Menu</strong> parameter type. The other two common options are <strong>Replace</strong> and <strong>Toggle</strong> - these will add a small mini-menu to the right of the string/int parameter from which you can select and populate the string/int field. Those are the styles that are most familiar from nodes like <strong>Attribute Delete</strong> etc.</p><h3 id=why-would-i-ever-use-the-normal-mode-if-im-using-a-string-or-int-parameter-cant-i-just-use-an-ordered-menu>Why would I ever use the &ldquo;Normal&rdquo; mode if I&rsquo;m using a string or int parameter? Can&rsquo;t I just use an Ordered Menu?<a hidden class=anchor aria-hidden=true href=#why-would-i-ever-use-the-normal-mode-if-im-using-a-string-or-int-parameter-cant-i-just-use-an-ordered-menu>🔗</a></h3><p>Usually an <strong>Ordered Menu</strong> is just fine - but one advantage is explicitness. If you want to make sure your menu always returns a <code>string</code> when using HOM&rsquo;s <code>hou.Parm.eval()</code>, you can create a <strong>String</strong> parameter, enable <strong>Use Menu</strong>, and keep it as <strong>Normal (Menu Only, Single Selection)</strong>. Whenever someone evaluates the parameter with <code>hou.evalParm("/obj/geo1/null1/mymenuparm")</code>, they <em>will</em> get a string back which is <em>not</em> the case with the standard <strong>Ordered Menu</strong> type (which would <em>need</em> <code>hou.Parm.evalAsString()</code>, even if your token <em>looks</em> like a string).</p><h2 id=test-cases>Test Cases<a hidden class=anchor aria-hidden=true href=#test-cases>🔗</a></h2><p>For testing, I&rsquo;m using the following menu parameters:</p><ul><li>Ordered Menu</li><li>String Parameter with <a href=#normal-menu>Normal</a> menu enabled</li><li>Integer Parameter with <a href=#normal-menu>Normal</a> menu enabled</li></ul><figure><img loading=lazy src=images/test-case-menus.png alt="Menus on the Parameter Interface"><figcaption><p>Menus on the Parameter Interface</p></figcaption></figure><p>They each have different labels, but the menu items/tokens are all the same: <code>item0</code>, <code>item1</code>&mldr;</p><figure><video class=videoj width=100% autoplay loop muted playsinline src=images/test-case-menu-items.mp4></video><figcaption><p></p></figcaption></figure><p>The results in the tables below were gathered when the menus were changed to their second dropdown item (<code>item1</code>).</p><p>See the <a href=#hipfile>hipfile</a> above to check it out yourself.</p><figure><img loading=lazy src=images/menu-testing-interface.png alt="Menu testing interface from hipfile"><figcaption><p>Menu testing interface from hipfile</p></figcaption></figure><details markdown=1><summary markdown=span>`hou.Parm.eval()`</summary><h3 id=houparmeval><code>hou.Parm.eval()</code><a hidden class=anchor aria-hidden=true href=#houparmeval>🔗</a></h3><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>value <span style=color:#81a1c1>=</span> parm<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;orderedmenu&#34;</span><span style=color:#eceff4>)</span><span style=color:#81a1c1>.</span>eval<span style=color:#eceff4>()</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>return</span> <span style=color:#a3be8c>f</span><span style=color:#a3be8c>&#34;</span><span style=color:#a3be8c>{</span>value<span style=color:#a3be8c>}</span><span style=color:#a3be8c> </span><span style=color:#a3be8c>{</span><span style=color:#81a1c1>type</span><span style=color:#eceff4>(</span>value<span style=color:#eceff4>)</span><span style=color:#a3be8c>}</span><span style=color:#a3be8c>&#34;</span>
</span></span></code></pre></div><table><thead><tr><th>Parameter Type</th><th><code>hou.Parm.eval()</code></th><th>Type</th></tr></thead><tbody><tr><td>Ordered Menu</td><td>1</td><td>int</td></tr><tr><td>String</td><td>item1</td><td>str</td></tr><tr><td>Integer</td><td>1</td><td>int</td></tr></tbody></table></details><details markdown=1><summary markdown=span>`hou.Parm.evalAsString()`</summary><h3 id=houparmevalasstring><code>hou.Parm.evalAsString()</code><a hidden class=anchor aria-hidden=true href=#houparmevalasstring>🔗</a></h3><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>value <span style=color:#81a1c1>=</span> parm<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;orderedmenu&#34;</span><span style=color:#eceff4>)</span><span style=color:#81a1c1>.</span>evalAsString<span style=color:#eceff4>()</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>return</span> <span style=color:#a3be8c>f</span><span style=color:#a3be8c>&#34;</span><span style=color:#a3be8c>{</span>value<span style=color:#a3be8c>}</span><span style=color:#a3be8c> </span><span style=color:#a3be8c>{</span><span style=color:#81a1c1>type</span><span style=color:#eceff4>(</span>value<span style=color:#eceff4>)</span><span style=color:#a3be8c>}</span><span style=color:#a3be8c>&#34;</span>
</span></span></code></pre></div><table><thead><tr><th>Parameter Type</th><th><code>hou.Parm.evalAsString()</code></th><th>Type</th></tr></thead><tbody><tr><td>Ordered Menu</td><td>item1</td><td>str</td></tr><tr><td>String</td><td>item1</td><td>str</td></tr><tr><td>Integer</td><td>1</td><td>str</td></tr></tbody></table></details><details markdown=1><summary markdown=span>`hou.Parm.evalAsInt()`</summary><h3 id=houparmevalasint><code>hou.Parm.evalAsInt()</code><a hidden class=anchor aria-hidden=true href=#houparmevalasint>🔗</a></h3><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>value <span style=color:#81a1c1>=</span> parm<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;orderedmenu&#34;</span><span style=color:#eceff4>)</span><span style=color:#81a1c1>.</span>evalAsInt<span style=color:#eceff4>()</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>return</span> <span style=color:#a3be8c>f</span><span style=color:#a3be8c>&#34;</span><span style=color:#a3be8c>{</span>value<span style=color:#a3be8c>}</span><span style=color:#a3be8c> </span><span style=color:#a3be8c>{</span><span style=color:#81a1c1>type</span><span style=color:#eceff4>(</span>value<span style=color:#eceff4>)</span><span style=color:#a3be8c>}</span><span style=color:#a3be8c>&#34;</span>
</span></span></code></pre></div><table><thead><tr><th>Parameter Type</th><th><code>hou.Parm.evalAsInt()</code></th><th>Type</th></tr></thead><tbody><tr><td>Ordered Menu</td><td>1</td><td>int</td></tr><tr><td>String</td><td></td><td>TypeError</td></tr><tr><td>Integer</td><td>1</td><td>int</td></tr></tbody></table></details><details markdown=1><summary markdown=span>`ch()`</summary><h3 id=ch><code>ch()</code><a hidden class=anchor aria-hidden=true href=#ch>🔗</a></h3><pre tabindex=0><code>ch(&#34;orderedmenu&#34;)
</code></pre><table><thead><tr><th>Parameter Type</th><th><code>ch()</code></th><th>Type</th></tr></thead><tbody><tr><td>Ordered Menu</td><td>1</td><td>int</td></tr><tr><td>String</td><td>0</td><td>int</td></tr><tr><td>Integer</td><td>1</td><td>int</td></tr></tbody></table></details><details markdown=1><summary markdown=span>`chs()`</summary><h3 id=chs><code>chs()</code><a hidden class=anchor aria-hidden=true href=#chs>🔗</a></h3><pre tabindex=0><code>chs(&#34;orderedmenu&#34;)
</code></pre><table><thead><tr><th>Parameter Type</th><th><code>chs()</code></th><th>Type</th></tr></thead><tbody><tr><td>Ordered Menu</td><td>item1</td><td>str</td></tr><tr><td>String</td><td>item1</td><td>str</td></tr><tr><td>Integer</td><td>1</td><td>str</td></tr></tbody></table></details><details markdown=1><summary markdown=span>`kwargs["script_value"]`</summary><h3 id=kwargsscript_value><code>kwargs["script_value"]</code><a hidden class=anchor aria-hidden=true href=#kwargsscript_value>🔗</a></h3><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>value <span style=color:#81a1c1>=</span> kwargs<span style=color:#eceff4>[</span><span style=color:#a3be8c>&#34;script_value&#34;</span><span style=color:#eceff4>]</span>
</span></span><span style=display:flex><span>hou<span style=color:#81a1c1>.</span>ui<span style=color:#81a1c1>.</span>displayMessage<span style=color:#eceff4>(</span><span style=color:#a3be8c>f</span><span style=color:#a3be8c>&#34;kwargs[&#39;script_value&#39;] = </span><span style=color:#a3be8c>{</span>value<span style=color:#a3be8c>}</span><span style=color:#ebcb8b>\n\n</span><span style=color:#a3be8c>{</span><span style=color:#81a1c1>type</span><span style=color:#eceff4>(</span>value<span style=color:#eceff4>)</span><span style=color:#a3be8c>}</span><span style=color:#a3be8c>&#34;</span><span style=color:#eceff4>)</span>
</span></span></code></pre></div><figure><img loading=lazy src=images/test-callback.png alt="Parameter Callback (Python)"><figcaption><p>Parameter Callback (Python)</p></figcaption></figure><table><thead><tr><th>Parameter Type</th><th><code>kwargs["script_value"]</code></th><th>Type</th></tr></thead><tbody><tr><td>Ordered Menu</td><td>item1</td><td>str</td></tr><tr><td>String</td><td>item1</td><td>str</td></tr><tr><td>Integer</td><td>1</td><td>str</td></tr></tbody></table><p>When implementing parameter callbacks, Houdini gives us access to a Python dictionary named <code>kwargs</code> filled with useful info about the parameter. One of those keys is called <code>script_value</code>, which according to the docs is equivalent to <code>kwargs["parm"].eval()</code> (see above - this isn&rsquo;t quite always the case, especially when it comes to int/float parameters, since it always seems to return a string).</p><blockquote><p>See Also <a href=https://www.sidefx.com/docs/houdini/hom/locations.html#parameter_callback_scripts>Parameter Callback Scripts</a></p></blockquote></details><h1 id=final-thoughts>Final Thoughts<a hidden class=anchor aria-hidden=true href=#final-thoughts>🔗</a></h1><p><strong>Ordered Menus</strong> and <strong>String</strong> Parameters can be <em><strong>set</strong></em> using their tokens like so:</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>hou<span style=color:#81a1c1>.</span>parm<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;/obj/geo1/null1/orderedmenu&#34;</span><span style=color:#eceff4>)</span><span style=color:#81a1c1>.</span>set<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;item1&#34;</span><span style=color:#eceff4>)</span>
</span></span></code></pre></div><hr><p>When an integer parm using a <a href=#normal-menu>Normal</a> menu that has tokens is evaluated as a string, it will not return the token, but rather a string representation of the selected index.</p><p>You <em>cannot</em> set an integer menu parameter by its token like you can with a string parameter / ordered menu <em><strong>unless the token you&rsquo;re trying to set it to is a string representation of a numerical value, like <code>"1000"</code>, <code>"42"</code></strong></em> etc.</p><hr><h2 id=use-token-as-value>Use Token as Value<a hidden class=anchor aria-hidden=true href=#use-token-as-value>🔗</a></h2><p><a href="https://www.sidefx.com/forum/topic/82576/?page=1#post-354880">This reply</a> from SESI on the SideFX Forums describes well what <strong>Use Token as Value</strong> does.</p><p>When you have <strong>Use Token as Value</strong> enabled on an integer parameter with a menu (or an Ordered Menu), and your tokens are string representations of numbers like <code>"1000"</code> or<code>"42"</code>, instead of evaluating to the <em>menu index</em> as usual, Houdini will try to use that value instead.</p><p>For instance, if our integer parameter has the following menu:</p><table><thead><tr><th>Token</th><th>Label</th></tr></thead><tbody><tr><td>item0</td><td>Int Label 0</td></tr><tr><td>item1</td><td>Int Label 1</td></tr><tr><td>42</td><td>Forty Two</td></tr></tbody></table><p>and we have <strong>Use Token as Value</strong> <em>disabled</em>, calls like <code>hou.Parm.eval()</code> and <code>ch()</code> will evaluate to the selected menu index <code>2</code></p><figure><img loading=lazy src=images/use-token-as-value-disabled.png alt="Use Token and Value disabled"><figcaption><p>Use Token and Value disabled</p></figcaption></figure><p>Once we turn on <strong>Use Token as Value</strong>, we get <code>42</code></p><figure><img loading=lazy src=images/use-token-as-value-enabled.png alt="Use Token as Value enabled"><figcaption><p>Use Token as Value enabled</p></figcaption></figure><p>See it in use for real on the <strong>Vellum Constraints</strong> node&rsquo;s <code>stretchstiffnessexp</code> parameter.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.jamesrobinsonvfx.com/tags/reference/>reference</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/ui/>ui</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/houdini/>houdini</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/parameters/>parameters</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/python/>python</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/menu/>menu</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://www.jamesrobinsonvfx.com>James Robinson 🌊</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.8)"})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>