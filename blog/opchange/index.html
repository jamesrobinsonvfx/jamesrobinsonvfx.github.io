<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>opchange | James Robinson 🌊</title><meta name=keywords content><meta name=description content="Quickly Search/Replace All Parameters in Your Hipfile"><meta name=author content><link rel=canonical href=https://www.jamesrobinsonvfx.com/blog/opchange/><link crossorigin=anonymous href=/assets/css/stylesheet.6970c378aeef5c90de0f6c117a59747c2e546481c20f53e5ce81971a7fa39148.css integrity="sha256-aXDDeK7vXJDeD2wRell0fC5UZIHCD1PlzoGXGn+jkUg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.jamesrobinsonvfx.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.jamesrobinsonvfx.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.jamesrobinsonvfx.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.jamesrobinsonvfx.com/apple-touch-icon.png><link rel=mask-icon href=https://www.jamesrobinsonvfx.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🌊</text></svg>"><meta property="og:title" content="opchange"><meta property="og:description" content="Quickly Search/Replace All Parameters in Your Hipfile"><meta property="og:type" content="article"><meta property="og:url" content="https://www.jamesrobinsonvfx.com/blog/opchange/"><meta property="og:image" content="https://www.jamesrobinsonvfx.com/blog/opchange/images/preview.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-03-26T00:00:00+00:00"><meta property="article:modified_time" content="2021-03-26T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.jamesrobinsonvfx.com/blog/opchange/images/preview.png"><meta name=twitter:title content="opchange"><meta name=twitter:description content="Quickly Search/Replace All Parameters in Your Hipfile"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blog 🪶","item":"https://www.jamesrobinsonvfx.com/blog/"},{"@type":"ListItem","position":3,"name":"opchange","item":"https://www.jamesrobinsonvfx.com/blog/opchange/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"opchange","name":"opchange","description":"Quickly Search/Replace All Parameters in Your Hipfile","keywords":[],"articleBody":"Easily switch any value for another in a hipfile.\nGoing through and manually swapping $HIP for $JOB, or switching any value for another noe in an entire hipfile can be a real pain. You could try going the long way (looking at each parm and changing by hand…ouch!), or by iterating all the parms on all the nodes with Python. Or, you can use a simple built-in HScript command: opchange.\nopchange makes it really simple to swap values across the entire scene, or over a limited scope of nodes.\nExample Let’s say you were loading a bunch of HDRIs from some sort of library you have elsewhere on disk, but now you need to share the project with someone else. You’ve copied all the light textures from you library location into $JOB/tex, but now you need to change all the paths on the lights in your hipfile. We can use opchange to make it a bit easier.\nopchange D:/Library/HDRI \\$JOB/tex Now all references to D:/Library/HDRI should have been replaced with $JOB/tex.\nGotchas If you’re swapping a variable, and you want to search for the unexpanded version, ie the literal string $HIP, make sure to escape the $ with a \\, otherwise Houdini will be searching for the expanded versions, like ~/project/myproject or wherever $HIP is pointing to instead.\nopchange \\$HIP \\$JOB/hip Limit the Scope We don’t have to search the entire scene in this case, since we know that all of our lights are going to exist at /obj.\nopchange -p /obj D:/Library/HDRI \\$JOB/tex Duplicated a node and want to change the new node’s parm reference? Use the -i flag.\nopchange -i -p /obj/sheepnmoon/mat/fuzz_moon sheep_ moon_ ","wordCount":"276","inLanguage":"en","image":"https://www.jamesrobinsonvfx.com/blog/opchange/images/preview.png","datePublished":"2021-03-26T00:00:00Z","dateModified":"2021-03-26T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jamesrobinsonvfx.com/blog/opchange/"},"publisher":{"@type":"Organization","name":"James Robinson 🌊","logo":{"@type":"ImageObject","url":"https://www.jamesrobinsonvfx.com/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.jamesrobinsonvfx.com accesskey=h title="James Robinson 🌊 (Alt + H)">James Robinson 🌊</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.jamesrobinsonvfx.com title="blog 🪶"><span>blog 🪶</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/projects title="projects 🪛"><span>projects 🪛</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/snippets title="snippets 🧰"><span>snippets 🧰</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/links title="links 🔗"><span>links 🔗</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/about title="about 👋"><span>about 👋</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/search/ title="search 🔍"><span>search 🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>opchange</h1><div class=post-meta><span title='2021-03-26 00:00:00 +0000 UTC'>March 26, 2021</span>&nbsp;·&nbsp;2 min</div></header><figure class=entry-cover><a href=https://www.jamesrobinsonvfx.com/blog/opchange/images/preview.png target=_blank rel="noopener noreferrer"><img loading=lazy srcset="https://www.jamesrobinsonvfx.com/blog/opchange/images/preview_hu042686fffafb8403d5d4b2ec52091286_23844_360x0_resize_box_3.png 360w ,https://www.jamesrobinsonvfx.com/blog/opchange/images/preview_hu042686fffafb8403d5d4b2ec52091286_23844_480x0_resize_box_3.png 480w ,https://www.jamesrobinsonvfx.com/blog/opchange/images/preview_hu042686fffafb8403d5d4b2ec52091286_23844_720x0_resize_box_3.png 720w ,https://www.jamesrobinsonvfx.com/blog/opchange/images/preview.png 802w" sizes="(min-width: 768px) 720px, 100vw" src=https://www.jamesrobinsonvfx.com/blog/opchange/images/preview.png alt=opchange width=802 height=892></a><p><code>opchange</code> example</p></figure><div class=post-content><p><strong>Easily switch any value for another in a hipfile.</strong></p><p>Going through and manually swapping <code>$HIP</code> for <code>$JOB</code>, or switching any value for another noe in an entire hipfile can be a real pain. You could try going the long way (looking at each parm and changing by hand&mldr;ouch!), or by iterating all the parms on all the nodes with Python. Or, you can use a simple built-in HScript command: <code>opchange</code>.</p><p><a href=https://www.sidefx.com/docs/houdini/commands/opchange.html><code>opchange</code></a> makes it really simple to swap values across the entire scene, or over a limited scope of nodes.</p><h2 id=example>Example<a hidden class=anchor aria-hidden=true href=#example>🔗</a></h2><p>Let&rsquo;s say you were loading a bunch of HDRIs from some sort of library you have elsewhere on disk, but now you need to share the project with someone else. You&rsquo;ve copied all the light textures from you library location into <code>$JOB/tex</code>, but now you need to change all the paths on the lights in your hipfile. We can use <code>opchange</code> to make it a bit easier.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>opchange D:/Library/HDRI <span style=color:#ebcb8b>\$</span>JOB/tex
</span></span></code></pre></div><p>Now all references to <code>D:/Library/HDRI</code> should have been replaced with <code>$JOB/tex</code>.</p><h2 id=gotchas>Gotchas<a hidden class=anchor aria-hidden=true href=#gotchas>🔗</a></h2><p>If you&rsquo;re swapping a variable, and you want to search for the <em>unexpanded</em> version, ie the literal string <code>$HIP</code>, make sure to escape the <code>$</code> with a <code>\</code>, otherwise Houdini will be searching for the <em>expanded</em> versions, like <code>~/project/myproject</code> or wherever <code>$HIP</code> is pointing to instead.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>opchange <span style=color:#ebcb8b>\$</span>HIP <span style=color:#ebcb8b>\$</span>JOB/hip
</span></span></code></pre></div><h3 id=limit-the-scope>Limit the Scope<a hidden class=anchor aria-hidden=true href=#limit-the-scope>🔗</a></h3><p>We don&rsquo;t have to search the entire scene in this case, since we know that all of our lights are going to exist at <code>/obj</code>.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>opchange -p /obj D:/Library/HDRI <span style=color:#ebcb8b>\$</span>JOB/tex
</span></span></code></pre></div><p>Duplicated a node and want to change the new node&rsquo;s parm reference? Use the <code>-i</code> flag.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>opchange -i -p /obj/sheepnmoon/mat/fuzz_moon sheep_ moon_
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://www.jamesrobinsonvfx.com>James Robinson 🌊</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.8)"})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>