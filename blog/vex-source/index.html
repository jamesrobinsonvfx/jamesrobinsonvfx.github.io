<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vex Source | James Robinson 🌊</title><meta name=keywords content="tips,vex,vops"><meta name=description content="Use one VOP network or VEX wrangle to drive many others without channel referencing"><meta name=author content><link rel=canonical href=https://www.jamesrobinsonvfx.com/blog/vex-source/><link crossorigin=anonymous href=/assets/css/stylesheet.31a1ec8ce187fd44934e170601c332903bca9bc902e9bca2c4b7205cf7203d32.css integrity="sha256-MaHsjOGH/USTThcGAcMykDvKm8kC6byixLcgXPcgPTI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.jamesrobinsonvfx.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.jamesrobinsonvfx.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.jamesrobinsonvfx.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.jamesrobinsonvfx.com/apple-touch-icon.png><link rel=mask-icon href=https://www.jamesrobinsonvfx.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🌊</text></svg>"><meta property="og:title" content="Vex Source"><meta property="og:description" content="Use one VOP network or VEX wrangle to drive many others without channel referencing"><meta property="og:type" content="article"><meta property="og:url" content="https://www.jamesrobinsonvfx.com/blog/vex-source/"><meta property="og:image" content="https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-09-10T00:00:00+00:00"><meta property="article:modified_time" content="2021-09-10T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview.png"><meta name=twitter:title content="Vex Source"><meta name=twitter:description content="Use one VOP network or VEX wrangle to drive many others without channel referencing"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blog 🪶","item":"https://www.jamesrobinsonvfx.com/blog/"},{"@type":"ListItem","position":3,"name":"Vex Source","item":"https://www.jamesrobinsonvfx.com/blog/vex-source/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vex Source","name":"Vex Source","description":"Use one VOP network or VEX wrangle to drive many others without channel referencing","keywords":["tips","vex","vops"],"articleBody":" Hipfile: jamesr_vexsource.hiplc\nHoudini offers several ways to duplicate and reuse nodes.\nCopy and paste nodes (Ctrl + c, Ctrl + v). Create an HDA. RMB \u003e Actions \u003e Create Reference Copy …to name a few.\nSometimes, you might find yourself re-using the same VOP network or VEX wrangle without changing the internal nodes or code. But what happens if you want to change them all at once?\nScenario Let’s say we have a VOP network that applies some noisy displacement animation to a character (see hipfile above). There are several other characters in the scene who need the same displacement effect applied to them. We have a few options:\nOption 1: Copy and Paste the VOP Network Copy and Paste\nSimple as that. We can just duplicate it around and we’re all set. 90% of the time this will probably be what you do day-to-day. The downside though is that anytime you update the internal nodes/code, you’ll have to do the same thing to all the copies…\nOption 2: Create an HDA HDAs are perfect for when you want to bundle up some nodes and reuse them all over the place. There are numerous advantages to using HDAs that I won’t go into in this post, but sometimes creating and tracking an HDA is just a bit overkill. In our case, we have one VOP that makes some noise…we don’t really need to go through the effort of creating an asset for it!\nOption 3: Create a Reference Copy RMB \u003e Actions \u003e Create Reference Copy\nWe could create a Reference Copy which is really just like copying and pasting the node like in the first option, except the new pasted node has relative channel references back to all the parameters on the source node. This works just fine, and we get a copy of all the internal nodes as well. But even with the reference copy, if we were to change the internal nodes of the source VOP network like adding new nodes or removing old ones, those changes would not be reflected in the copies.\nOption 4: Change the Vex Source The last option we’ll go over is really the whole point of this post. On each VOP network, there is a parameter called Vex Source. By default, this is is set to Myself, which means it uses the operators inside itself to do all the work.\nVex Source Parameter\nIf we change it instead to Shop, the Shop Path parameter is then exposed, and we can actually set that parameter to another VOP network in the scene.\nWe leave this VOP network empty - its internals are being overridden by the contents of the VOP network specified in that Shop Path parameter!\nSteps VOP Network Shop Path Setup GIF\nTo recap, the steps are as follows:\nCreate a VOP network that does something you want to reuse on other geo. Create an empty VOP network and hook it up to wherever you want to reuse the original. Select the original VOP network and hit Ctrl + c. This will copy the path to the node to the clipboard. Select the empty VOP network, and set the Vex Source parameter to Shop. Paste the copied path to the source VOP network in the Shop Path parameter (if you want this to be a relative path, that’s fine too). Changes to the source network are propagated immediately!\nWhat about Wrangles? Hidden inside each wrangle is actually just a VOP network with a Snippet VOP inside!\nVEX wrangles don’t have the Vex Source parameter exposed at the top level, so we actually won’t be able to use an empty wrangle on each of our other streams.\nInstead, let’s just write one wrangle with the code on it that we want to reuse, and the rest of the geometry we want to copy it around to will have empty VOP Networks instead, just like before.\nWrangle Source\nSteps: Create the source wrangle with the desired code. Create an empty VOP network and hook it up to the other geometry we want to process. Dive inside the source wrangle node, and Ctrl + c on the VOP network inside. This copies the path to the node to the clipboard. On each of the new empty VOP networks, set the Vex Source parameter to Shop. Paste the path of the copied VOP network into the Shop Path parameter. Final Notes The biggest downside to this method is that you can’t really adjust the parameters on the copies. However, you could get around this by instead using attributes on the geometry to control certain parts of your setup!\nAttributes for Parameters\nChannel Referencing Wrangles Another pretty useful way of referencing another wrangle is to simply channel reference the Snippet parameter from another wrangle.\nChannel Reference Snippet String\nThis way is also useful because you can add parameters to the wrangle copy’s interface and update those, and they will get picked up and used while your code lives on just a single wrangle.\n(Thanks Daniel)\nEvaluation Node Path However, if you still want the source wrangle’s parameter sliders to affect the copies, you’ll need to update the Evaluation Node Path parameter under the Bindings tab of the wrangle copies.\nEvaluation Node Path\nThis tells the wrangle to look at that node instead when trying to figure out where ch() parameters are.\nEvaluation Node Path in Action\n","wordCount":"901","inLanguage":"en","image":"https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview.png","datePublished":"2021-09-10T00:00:00Z","dateModified":"2021-09-10T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jamesrobinsonvfx.com/blog/vex-source/"},"publisher":{"@type":"Organization","name":"James Robinson 🌊","logo":{"@type":"ImageObject","url":"https://www.jamesrobinsonvfx.com/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.jamesrobinsonvfx.com accesskey=h title="James Robinson 🌊 (Alt + H)">James Robinson 🌊</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.jamesrobinsonvfx.com title="blog 🪶"><span>blog 🪶</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/projects title="projects 🪛"><span>projects 🪛</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/snippets title="snippets 🧰"><span>snippets 🧰</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/links title="links 🔗"><span>links 🔗</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/about title="about 👋"><span>about 👋</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/search/ title="search 🔍"><span>search 🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Vex Source</h1><div class=post-meta><span title='2021-09-10 00:00:00 +0000 UTC'>September 10, 2021</span>&nbsp;·&nbsp;5 min</div></header><figure class=entry-cover><a href=https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview.png target=_blank rel="noopener noreferrer"><img loading=lazy srcset="https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview_hu18119b648b992f7a2649056c36264e6a_150443_360x0_resize_box_3.png 360w ,https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview_hu18119b648b992f7a2649056c36264e6a_150443_480x0_resize_box_3.png 480w ,https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview_hu18119b648b992f7a2649056c36264e6a_150443_720x0_resize_box_3.png 720w ,https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview_hu18119b648b992f7a2649056c36264e6a_150443_1080x0_resize_box_3.png 1080w ,https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview_hu18119b648b992f7a2649056c36264e6a_150443_1500x0_resize_box_3.png 1500w ,https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview.png 1587w" sizes="(min-width: 768px) 720px, 100vw" src=https://www.jamesrobinsonvfx.com/blog/vex-source/images/preview.png alt="Cover Photo" width=1587 height=778></a><p>Vex Source</p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#scenario aria-label=Scenario>Scenario</a><ul><li><a href=#option-1-copy-and-paste-the-vop-network aria-label="Option 1: Copy and Paste the VOP Network">Option 1: Copy and Paste the VOP Network</a></li><li><a href=#option-2-create-an-hda aria-label="Option 2: Create an HDA">Option 2: Create an HDA</a></li><li><a href=#option-3-create-a-reference-copy aria-label="Option 3: Create a Reference Copy">Option 3: Create a Reference Copy</a></li><li><a href=#option-4-change-the-vex-source aria-label="Option 4: Change the Vex Source">Option 4: Change the Vex Source</a><ul><li><a href=#steps aria-label=Steps>Steps</a></li></ul></li></ul></li><li><a href=#what-about-wrangles aria-label="What about Wrangles?">What about Wrangles?</a><ul><ul><li><a href=#steps-1 aria-label=Steps:>Steps:</a></li></ul></ul></li><li><a href=#final-notes aria-label="Final Notes">Final Notes</a><ul><li><a href=#channel-referencing-wrangles aria-label="Channel Referencing Wrangles">Channel Referencing Wrangles</a></li><li><a href=#evaluation-node-path aria-label="Evaluation Node Path">Evaluation Node Path</a></li></ul></li></ul></div></details></div><div class=post-content><blockquote><p>Hipfile: <a href=houdini/hip/jamesr_vexsource.hiplc>jamesr_vexsource.hiplc</a></p></blockquote><p>Houdini offers several ways to duplicate and reuse nodes.</p><ul><li>Copy and paste nodes (<strong>Ctrl + c</strong>, <strong>Ctrl + v</strong>).</li><li>Create an HDA.</li><li><strong>RMB</strong> > <strong>Actions</strong> > <strong>Create Reference Copy</strong></li></ul><p>&mldr;to name a few.</p><p>Sometimes, you might find yourself re-using the same VOP network or VEX wrangle without changing the internal nodes or code. But what happens if you want to change them all at once?</p><h2 id=scenario>Scenario<a hidden class=anchor aria-hidden=true href=#scenario>🔗</a></h2><figure><video class=videoj width=100% autoplay loop muted playsinline src=images/noisy-flippy.mp4></video><figcaption><p></p></figcaption></figure><p>Let&rsquo;s say we have a VOP network that applies some noisy displacement animation to a character (see hipfile above). There are several other characters in the scene who need the same displacement effect applied to them. We have a few options:</p><h3 id=option-1-copy-and-paste-the-vop-network>Option 1: Copy and Paste the VOP Network<a hidden class=anchor aria-hidden=true href=#option-1-copy-and-paste-the-vop-network>🔗</a></h3><figure><img loading=lazy src=images/copy-paste.gif alt="Copy and Paste"><figcaption><p>Copy and Paste</p></figcaption></figure><p>Simple as that. We can just duplicate it around and we&rsquo;re all set. 90% of the time this will probably be what you do day-to-day. The downside though is that anytime you update the internal nodes/code, you&rsquo;ll have to do the same thing to all the copies&mldr;</p><h3 id=option-2-create-an-hda>Option 2: Create an HDA<a hidden class=anchor aria-hidden=true href=#option-2-create-an-hda>🔗</a></h3><p>HDAs are perfect for when you want to bundle up some nodes and reuse them all over the place. There are numerous advantages to using HDAs that I won&rsquo;t go into in this post, but sometimes creating and tracking an HDA is just a bit overkill. In our case, we have one VOP that makes some noise&mldr;we don&rsquo;t really need to go through the effort of creating an asset for it!</p><h3 id=option-3-create-a-reference-copy>Option 3: Create a Reference Copy<a hidden class=anchor aria-hidden=true href=#option-3-create-a-reference-copy>🔗</a></h3><figure><img loading=lazy src=images/reference-copy.gif alt="RMB > Actions > Create Reference Copy"><figcaption><p>RMB > Actions > Create Reference Copy</p></figcaption></figure><p>We could create a <strong>Reference Copy</strong> which is really just like copying and pasting the node like in the first option, except the new pasted node has relative channel references back to all the parameters on the source node. This works just fine, and we get a copy of all the internal nodes as well. But even with the reference copy, if we were to change the internal nodes of the source VOP network like adding new nodes or removing old ones, those changes would
<em>not</em> be reflected in the copies.</p><h3 id=option-4-change-the-vex-source>Option 4: Change the Vex Source<a hidden class=anchor aria-hidden=true href=#option-4-change-the-vex-source>🔗</a></h3><p>The last option we&rsquo;ll go over is really the whole point of this post. On each VOP network, there is a parameter called <strong>Vex Source</strong>. By default, this is is set to <strong>Myself</strong>, which means it uses the operators inside itself to do all the work.</p><figure><img loading=lazy src=images/vex-source.png alt="Vex Source Parameter"><figcaption><p>Vex Source Parameter</p></figcaption></figure><p>If we change it instead to <strong>Shop</strong>, the <strong>Shop Path</strong> parameter is then exposed, and we can actually set that parameter to <em>another VOP network in the scene</em>.</p><p>We leave this VOP network empty - its internals are being overridden by the contents of the VOP network specified in that <strong>Shop Path</strong> parameter!</p><h4 id=steps>Steps<a hidden class=anchor aria-hidden=true href=#steps>🔗</a></h4><figure><img loading=lazy src=images/vopnet-shop-path-setup.gif alt="VOP Network Shop Path Setup GIF"><figcaption><p>VOP Network Shop Path Setup GIF</p></figcaption></figure><p>To recap, the steps are as follows:</p><ol><li>Create a VOP network that does something you want to reuse on other geo.</li><li>Create an empty VOP network and hook it up to wherever you want to reuse the original.</li><li>Select the original VOP network and hit <strong>Ctrl + c</strong>. This will copy the path
to the node to the clipboard.</li><li>Select the empty VOP network, and set the <strong>Vex Source</strong> parameter to <strong>Shop</strong>.</li><li>Paste the copied path to the source VOP network in the <strong>Shop Path</strong>
parameter (if you want this to be a relative path, that&rsquo;s fine too).</li></ol><figure><img loading=lazy src=images/change-source-vopnet.gif alt="Changes to the source network are propagated immediately!"><figcaption><p>Changes to the source network are propagated immediately!</p></figcaption></figure><h2 id=what-about-wrangles>What about Wrangles?<a hidden class=anchor aria-hidden=true href=#what-about-wrangles>🔗</a></h2><p>Hidden inside each wrangle is actually just a VOP network with a Snippet VOP inside!</p><p>VEX wrangles don&rsquo;t have the <strong>Vex Source</strong> parameter exposed at the top level, so we actually won&rsquo;t be able to use an empty wrangle on each of our other streams.</p><p>Instead, let&rsquo;s just write one wrangle with the code on it that we want to reuse, and the rest of the geometry we want to copy it around to will have empty <em>VOP Networks</em> instead, just like before.</p><figure><img loading=lazy src=images/reference-wrangle.gif alt="Wrangle Source"><figcaption><p>Wrangle Source</p></figcaption></figure><h4 id=steps-1>Steps:<a hidden class=anchor aria-hidden=true href=#steps-1>🔗</a></h4><ol><li>Create the source wrangle with the desired code.</li><li>Create an empty VOP network and hook it up to the other geometry we want to process.</li><li>Dive inside the source wrangle node, and <strong>Ctrl + c</strong> on the VOP network inside. This copies the path to the node to the clipboard.</li><li>On each of the new empty VOP networks, set the <strong>Vex Source</strong> parameter to <strong>Shop</strong>.</li><li>Paste the path of the copied VOP network into the <strong>Shop Path</strong> parameter.</li></ol><h2 id=final-notes>Final Notes<a hidden class=anchor aria-hidden=true href=#final-notes>🔗</a></h2><p>The biggest downside to this method is that you can&rsquo;t really adjust the parameters on the copies. However, you could get around this by instead using attributes on the geometry to control certain parts of your setup!</p><figure><img loading=lazy src=images/attribs-for-parms.gif alt="Attributes for Parameters"><figcaption><p>Attributes for Parameters</p></figcaption></figure><h3 id=channel-referencing-wrangles>Channel Referencing Wrangles<a hidden class=anchor aria-hidden=true href=#channel-referencing-wrangles>🔗</a></h3><p>Another pretty useful way of referencing another wrangle is to simply channel reference the <strong>Snippet</strong> parameter from another wrangle.</p><figure><img loading=lazy src=images/channel-ref-snippet-string.png alt="Channel Reference Snippet String"><figcaption><p>Channel Reference Snippet String</p></figcaption></figure><p>This way is also useful because you can add parameters to the wrangle copy&rsquo;s interface and update those, and they <em>will</em> get picked up and used while your code lives on just a single wrangle.</p><p>(Thanks Daniel)</p><h3 id=evaluation-node-path>Evaluation Node Path<a hidden class=anchor aria-hidden=true href=#evaluation-node-path>🔗</a></h3><p>However, if you still want the source wrangle&rsquo;s parameter sliders to affect the copies, you&rsquo;ll need to update the <strong>Evaluation Node Path</strong> parameter under the <strong>Bindings</strong> tab of the wrangle copies.</p><figure><img loading=lazy src=images/eval-node-path.png alt="Evaluation Node Path"><figcaption><p>Evaluation Node Path</p></figcaption></figure><p>This tells the wrangle to look at <em>that</em> node instead when trying to figure out where <code>ch()</code> parameters are.</p><figure><img loading=lazy src=images/eval-node-path-in-action.gif alt="Evaluation Node Path in Action"><figcaption><p>Evaluation Node Path in Action</p></figcaption></figure></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.jamesrobinsonvfx.com/tags/tips/>tips</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/vex/>vex</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/vops/>vops</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://www.jamesrobinsonvfx.com>James Robinson 🌊</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.8)"})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>