<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Decay Values | James Robinson 🌊</title><meta name=keywords content="solver,tips,vex"><meta name=description content="Decay values in a Solver SOP while respecting substeps"><meta name=author content><link rel=canonical href=https://www.jamesrobinsonvfx.com/blog/decay-values/><link crossorigin=anonymous href=/assets/css/stylesheet.6970c378aeef5c90de0f6c117a59747c2e546481c20f53e5ce81971a7fa39148.css integrity="sha256-aXDDeK7vXJDeD2wRell0fC5UZIHCD1PlzoGXGn+jkUg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.jamesrobinsonvfx.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.jamesrobinsonvfx.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.jamesrobinsonvfx.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.jamesrobinsonvfx.com/apple-touch-icon.png><link rel=mask-icon href=https://www.jamesrobinsonvfx.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🌊</text></svg>"><meta property="og:title" content="Decay Values"><meta property="og:description" content="Decay values in a Solver SOP while respecting substeps"><meta property="og:type" content="article"><meta property="og:url" content="https://www.jamesrobinsonvfx.com/blog/decay-values/"><meta property="og:image" content="https://www.jamesrobinsonvfx.com/blog/decay-values/images/preview.jpg"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-08-22T00:00:00+00:00"><meta property="article:modified_time" content="2021-08-22T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.jamesrobinsonvfx.com/blog/decay-values/images/preview.jpg"><meta name=twitter:title content="Decay Values"><meta name=twitter:description content="Decay values in a Solver SOP while respecting substeps"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blog 🪶","item":"https://www.jamesrobinsonvfx.com/blog/"},{"@type":"ListItem","position":3,"name":"Decay Values","item":"https://www.jamesrobinsonvfx.com/blog/decay-values/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Decay Values","name":"Decay Values","description":"Decay values in a Solver SOP while respecting substeps","keywords":["solver","tips","vex"],"articleBody":" Attachments \u003c?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?\u003e image/svg+xml Hipfile jamesr_decay.hiplc\nOne of the most common use cases for the Solver SOP is to accumulate values over time.\nAccumulating \u0026 Substeps Accumulating a value like color or density over time is pretty straightforward.\nAdd to the value from the previous timestep Clamp as needed f@density += chf(\"accumulate\"); f@density = clamp(f@density, 0, 1.0); When you introduce substeps, the accumulation can get a little crazy! Since the solver is doing this addition each timestep, you’ll wind up increasing the value much more quickly than with just one substep. Luckily the solution is pretty straight forward: multiply your accumulation scale by f@TimeInc before adding.\nf@density += chf(\"accumulate\") * f@TimeInc; f@density = clamp(f@density, 0, 1.0); Decaying \u0026 Substeps Accumulating was easy enough right? At first you might think the same could be done for decaying or fading a value over time (like I did…oof!).\nIf you’re decreasing the value by subtracting, multiplying by f@TimeInc is just fine.\nBut if you’re doing a fading effect where you’re multiplying by some value between 0 and 1, multiplying by the time increment will actually have the opposite effect!\nImagine you start with a f@density value of 1.0, and you have a decay rate of 0.98. At 1 substep, each frame you are multiplying the previous value by 0.98. So by frame 2, your f@density attribute is 0.98, frame 3 0.9604…and so on.\nBut if you multiply your decay rate by the time increment, you get a number that’s much much lower!\n// f@Timeinc = 0.0416 0.98 * f@Timeinc = 0.040768 In this case, each substep we’d be multiplying the value by 0.040768. Even after just a single step we’d probably have all our value eaten away, which is exactly the problem we want to avoid.\nGet to the solution already! Alright alright, we actually have a few ways to solve this one.\nSubtract and Clamp This first way is similar to the additive accumulation method above (subtraction is really just addition in disguise anyways). Instead of decreasing the value by multiplying, we’ll just subtract some small amount each timestep:\nv@Cd.x = max(0, v@Cd.x - (chf(\"decay\") * f@Timeinc)); Power Function The second way uses VEX’s pow() function to decay the value over time.\nThis method will have a different decaying behavior vs just doing a simple multiplication on a single substep. But it tends to look pretty natural so go ahead and try it out\nv@Cd.x *= pow(chf(\"decay\"), f@Timeinc); Easy as that! Try it in a Solver SOP with different substep values and see the comparison (or take a look at the attached hipfile). Should be pretty close.\nLinear Combination DOP This method is less for when you’re trying to do this in a SOP solver, and more for if you’re building a setup in DOPs (and want to use this microsolver for something!)\nIt’s really as simple and changing the dropdown next to the Coefficient parameter from None to e^Timestep. Looks pretty similar to what we just did above!\nGas Linear Combination DOP\n","wordCount":"503","inLanguage":"en","image":"https://www.jamesrobinsonvfx.com/blog/decay-values/images/preview.jpg","datePublished":"2021-08-22T00:00:00Z","dateModified":"2021-08-22T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jamesrobinsonvfx.com/blog/decay-values/"},"publisher":{"@type":"Organization","name":"James Robinson 🌊","logo":{"@type":"ImageObject","url":"https://www.jamesrobinsonvfx.com/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.jamesrobinsonvfx.com accesskey=h title="James Robinson 🌊 (Alt + H)">James Robinson 🌊</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.jamesrobinsonvfx.com title="blog 🪶"><span>blog 🪶</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/projects title="projects 🪛"><span>projects 🪛</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/snippets title="snippets 🧰"><span>snippets 🧰</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/links title="links 🔗"><span>links 🔗</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/about title="about 👋"><span>about 👋</span></a></li><li><a href=https://www.jamesrobinsonvfx.com/search/ title="search 🔍"><span>search 🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Decay Values</h1><div class=post-meta><span title='2021-08-22 00:00:00 +0000 UTC'>August 22, 2021</span>&nbsp;·&nbsp;3 min</div></header><figure class=entry-cover><a href=https://www.jamesrobinsonvfx.com/blog/decay-values/images/preview.jpg target=_blank rel="noopener noreferrer"><img loading=lazy srcset="https://www.jamesrobinsonvfx.com/blog/decay-values/images/preview_hu46319f75aef3823f7bc1305bfd4cc6e4_32985_360x0_resize_q75_box.jpg 360w ,https://www.jamesrobinsonvfx.com/blog/decay-values/images/preview_hu46319f75aef3823f7bc1305bfd4cc6e4_32985_480x0_resize_q75_box.jpg 480w ,https://www.jamesrobinsonvfx.com/blog/decay-values/images/preview_hu46319f75aef3823f7bc1305bfd4cc6e4_32985_720x0_resize_q75_box.jpg 720w ,https://www.jamesrobinsonvfx.com/blog/decay-values/images/preview.jpg 838w" sizes="(min-width: 768px) 720px, 100vw" src=https://www.jamesrobinsonvfx.com/blog/decay-values/images/preview.jpg alt="Cover Photo" width=838 height=641></a><p>Decaying attribute values</p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=# aria-label=Attachments>Attachments</a><ul><li><a href=#accumulating--substeps aria-label="Accumulating &amp;amp; Substeps">Accumulating & Substeps</a></li><li><a href=#decaying--substeps aria-label="Decaying &amp;amp; Substeps">Decaying & Substeps</a></li><li><a href=#get-to-the-solution-already aria-label="Get to the solution already!">Get to the solution already!</a><ul><li><a href=#subtract-and-clamp aria-label="Subtract and Clamp">Subtract and Clamp</a></li><li><a href=#power-function aria-label="Power Function">Power Function</a></li><li><a href=#linear-combination-dop aria-label="Linear Combination DOP">Linear Combination DOP</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><div class=post-attachments><details open><summary><h2>Attachments</h2></summary><article class=post-attachment id=hipfile-attachment><header class=attachment-header><h4><span class=inline-svg><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 526.79999 526.30664" height="16" width="16" id="svg10"><defs id="defs14"><clipPath id="clipPath28" clipPathUnits="userSpaceOnUse"><path id="path26" d="M0 0H3951V3947H0z"/></clipPath><clipPath id="clipPath34" clipPathUnits="userSpaceOnUse"><path id="path32" d="M3724.89.0H2315.94c501.61 268.551 822.02 784.832 822.21 1471.33v0 0c.02 58.57-2.46 116.34-7.38 173.35 292.2 54.35 567.49 128.36 820.25 219.06V225C3950.41 100.629 3849.41.0 3724.89.0"/></clipPath><radialGradient id="radialGradient40" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop36" offset="0" style="stop-opacity:1;stop-color:#facf07"/><stop id="stop38" offset="1" style="stop-opacity:1;stop-color:#f03e1e"/></radialGradient><clipPath id="clipPath50" clipPathUnits="userSpaceOnUse"><path id="path48" d="M629.297.0H226.125C101.242.0.0 101.242.0 226.129V718.891C107.547 438.559 323.551 174.031 629.297.0"/></clipPath><radialGradient id="radialGradient56" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop52" offset="0" style="stop-opacity:1;stop-color:#facf07"/><stop id="stop54" offset="1" style="stop-opacity:1;stop-color:#f03e1e"/></radialGradient><clipPath id="clipPath66" clipPathUnits="userSpaceOnUse"><path id="path64" d="m1446.64 243.48c-7.08.0-14.19.04-21.32.129-513.492 6.403-1013.972 353.543-1014.16 883.741.0 6.82.078 13.67.242 20.55 4.86 203.67 75.641 388.91 200.18 528.74 357.055-76.79 742.208-123.78 1144.868-135.3 1.19-10.88 1.78-21.47 1.78-31.67.0-158.46-93.71-362.76-323.76-411.92-16.22-3.46-33.02-5.14-50.05-5.14-128.9.0-270.89 96.16-270.89 241.3.01 55.44 20.72 118.01 70.79 185.12v0 0c-6.86.31-13.68.47-20.47.47-194.17.0-359.823-127.26-369.948-346.93-.445-9.63-.66-19.11-.656-28.48.192-374.238 352.464-544.238 631.184-544.231 33.9.0 66.74 2.512 97.7 7.481 531.82 85.371 731.02 430 731.08 898.81.0 2.99-.01 5.99-.02 9-.05 10.06-.29 20.08-.71 30.09 130.03 5.79 258.13 15.29 383.89 28.29 2.97-34.84 4.5-69.87 4.55-104.94.0-.72.0-1.41.0-2.13C2640.99 740.891 2196.61 243.469 1446.64 243.48"/></clipPath><radialGradient id="radialGradient72" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop68" offset="0" style="stop-opacity:1;stop-color:#facf07"/><stop id="stop70" offset="1" style="stop-opacity:1;stop-color:#f03e1e"/></radialGradient><clipPath id="clipPath82" clipPathUnits="userSpaceOnUse"><path id="path80" d="m0 1610.38v235.99C30.418 1835.84 61.1133 1825.55 92.1484 1815.5 56.4141 1752.09 25.3867 1683.72.0 1610.38"/></clipPath><radialGradient id="radialGradient88" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop84" offset="0" style="stop-opacity:1;stop-color:#facf07"/><stop id="stop86" offset="1" style="stop-opacity:1;stop-color:#f03e1e"/></radialGradient><clipPath id="clipPath98" clipPathUnits="userSpaceOnUse"><path id="path96" d="M0 0H3951V3947H0z"/></clipPath><clipPath id="clipPath104" clipPathUnits="userSpaceOnUse"><path id="path102" d="m3129.88 1654.68c-82.28 900.05-773.41 1588.19-1824.23 1588.81-.51.0-.93.0-1.44.0-522.96.0-964.769-168.63-1304.21-429.18v906.82c0 124.89 101.242 226.13 226.125 226.13H3724.89c124.89.0 226.13-101.24 226.13-226.13V1874.39c-252.85-90.96-528.49-165.21-821.14-219.71"/></clipPath><radialGradient id="radialGradient110" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop106" offset="0" style="stop-opacity:1;stop-color:#fce065"/><stop id="stop108" offset="1" style="stop-opacity:1;stop-color:#f6835a"/></radialGradient><clipPath id="clipPath120" clipPathUnits="userSpaceOnUse"><path id="path118" d="m1755.19 1551.36c-399.41 11.49-781.456 57.98-1135.866 133.85 138.356 150.6 340.457 246.42 590.476 252.35 6.58.15 13.04.23 19.49.23 346.13.0 502.8-222.81 525.9-386.43"/></clipPath><radialGradient id="radialGradient126" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop122" offset="0" style="stop-opacity:1;stop-color:#fce065"/><stop id="stop124" offset="1" style="stop-opacity:1;stop-color:#f6835a"/></radialGradient><clipPath id="clipPath136" clipPathUnits="userSpaceOnUse"><path id="path134" d="m2252.01 1555.2c-25.76 478.63-465.27 893.58-1030.52 899.24-4.01.05-7.98.07-11.99.07-400.941.0-865.609-200.84-1112.293-630.12-32.7773 10.6-65.1211 21.44-97.207 32.58v446.9c283.336 294.21 699.672 497.51 1232.1 497.51 24.26.0 48.81-.42 73.55-1.28 754.97-26.1 1271.87-595.31 1329.83-1216.63-125.64-13-253.55-22.49-383.47-28.27"/></clipPath><radialGradient id="radialGradient142" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop138" offset="0" style="stop-opacity:1;stop-color:#fce065"/><stop id="stop140" offset="1" style="stop-opacity:1;stop-color:#f6835a"/></radialGradient><clipPath id="clipPath152" clipPathUnits="userSpaceOnUse"><path id="path150" d="M0 0H3951V3947H0z"/></clipPath><clipPath id="clipPath158" clipPathUnits="userSpaceOnUse"><path id="path156" d="m3130.77 1644.68c-.28 3.29-.59 6.71-.89 10 292.65 54.5 568.29 128.75 821.14 219.71v-10.65.0c-252.76-90.7-528.05-164.71-820.25-219.06"/></clipPath><radialGradient id="radialGradient164" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop160" offset="0" style="stop-opacity:1;stop-color:#facf07"/><stop id="stop162" offset="1" style="stop-opacity:1;stop-color:#f03e1e"/></radialGradient><clipPath id="clipPath174" clipPathUnits="userSpaceOnUse"><path id="path172" d="m1756.45 1541.34c-402.66 11.52-787.813 58.51-1144.868 135.3 2.551 2.87 5.145 5.74 7.742 8.57 354.41-75.87 736.456-122.36 1135.866-133.85.48-3.37.9-6.7 1.26-10.02"/></clipPath><radialGradient id="radialGradient180" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop176" offset="0" style="stop-opacity:1;stop-color:#facf07"/><stop id="stop178" offset="1" style="stop-opacity:1;stop-color:#f03e1e"/></radialGradient><clipPath id="clipPath190" clipPathUnits="userSpaceOnUse"><path id="path188" d="m2252.48 1545.24c-.14 3.31-.3 6.66-.47 9.96 129.92 5.78 257.83 15.27 383.47 28.27.31-3.3.6-6.63.89-9.94-125.76-13-253.86-22.5-383.89-28.29"/></clipPath><radialGradient id="radialGradient196" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop192" offset="0" style="stop-opacity:1;stop-color:#facf07"/><stop id="stop194" offset="1" style="stop-opacity:1;stop-color:#f03e1e"/></radialGradient><clipPath id="clipPath206" clipPathUnits="userSpaceOnUse"><path id="path204" d="M92.1484 1815.5C61.1133 1825.55 30.418 1835.84.0 1846.37v0 10.6c32.0859-11.14 64.4297-21.98 97.207-32.58-1.6992-2.96-3.3789-5.91-5.0586-8.89"/></clipPath><radialGradient id="radialGradient212" spreadMethod="pad" gradientTransform="matrix(1533.76,1650.96,1650.96,-1533.76,2029.97,1890.75)" gradientUnits="userSpaceOnUse" r="1" cy="0" cx="0" fy="0" fx="0"><stop id="stop208" offset="0" style="stop-opacity:1;stop-color:#facf07"/><stop id="stop210" offset="1" style="stop-opacity:1;stop-color:#f03e1e"/></radialGradient></defs><g transform="matrix(1.3333333,0,0,-1.3333333,0,526.30667)" id="g18"><g transform="scale(0.1)" id="g20"><g id="g22"><g clip-path="url(#clipPath28)" id="g24"><g clip-path="url(#clipPath34)" id="g30"><path id="path42" style="fill:url(#radialGradient40);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m2315 0v1h2v1h2v1h2v1h2v1h2v1h2v1h1v1h2v1h2v1h2v1h2v1h1v1h2v1h2v1h2v1h1v1h2v1h2v1h2v1h1v1h2v1h2v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h2v1h2v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h2v1h2v1h1v1h2v1h1v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h1v1h2v1h1v1h2v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v2h1v1h1v1h1v2h1v1h1v2h1v1h1v2h1v1h1v2h1v1h1v1h1v2h1v1h1v2h1v1h1v2h1v1h1v1h1v2h1v1h1v2h1v1h1v2h1v1h1v1h1v2h1v1h1v2h1v1h1v2h1v1h1v2h1v2h1v1h1v2h1v1h1v2h1v1h1v2h1v1h1v2h1v1h1v2h1v2h1v1h1v2h1v1h1v2h1v1h1v2h1v1h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v2h1v2h1v1h1v2h1v2h1v2h1v2h1v1h1v2h1v2h1v2h1v2h1v1h1v2h1v2h1v2h1v2h1v2h1v1h1v2h1v2h1v2h1v2h1v1h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v2h1v3h1v2h1v2h1v2h1v2h1v2h1v2h1v3h1v2h1v2h1v2h1v2h1v2h1v3h1v2h1v2h1v2h1v2h1v2h1v3h1v2h1v2h1v3h1v2h1v3h1v2h1v2h1v3h1v2h1v2h1v3h1v2h1v2h1v3h1v2h1v3h1v2h1v2h1v3h1v2h1v3h1v2h1v3h1v2h1v3h1v3h1v2h1v3h1v2h1v3h1v3h1v2h1v3h1v2h1v3h1v3h1v2h1v3h1v3h1v2h1v3h1v3h1v3h1v3h1v3h1v3h1v2h1v3h1v3h1v3h1v3h1v3h1v3h1v3h1v3h1v3h1v2h1v3h1v3h1v4h1v3h1v3h1v3h1v4h1v3h1v3h1v3h1v4h1v3h1v3h1v3h1v4h1v3h1v3h1v3h1v4h1v4h1v3h1v4h1v4h1v3h1v4h1v4h1v3h1v4h1v4h1v4h1v3h1v4h1v4h1v4h1v4h1v4h1v4h1v5h1v4h1v4h1v4h1v5h1v4h1v4h1v4h1v4h1v5h1v5h1v5h1v5h1v5h1v5h1v5h1v4h1v5h1v5h1v5h1v5h1v6h1v6h1v6h1v6h1v6h1v5h1v6h1v6h1v6h1v6h1v7h1v7h1v8h1v7h1v7h1v7h1v8h1v7h1v9h1v9h1v10h1v9h1v10h1v9h1v10h1v14h1v13h1v13h1v14h1v19h1v22h1v22h1v45h1v44h-1v39h-1v32h-1v17h-1v17h-1v16h-1v17h-1v12h-1v3h2v1h5v1h6v1h5v1h5v1h6v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h4v1h5v1h5v1h4v1h5v1h5v1h4v1h5v1h5v1h4v1h5v1h4v1h5v1h5v1h4v1h5v1h5v1h4v1h5v1h5v1h4v1h5v1h4v1h4v1h5v1h4v1h4v1h4v1h4v1h5v1h4v1h4v1h4v1h5v1h4v1h4v1h4v1h5v1h4v1h4v1h4v1h5v1h4v1h4v1h4v1h4v1h5v1h4v1h4v1h3v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h3v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h3v1h4v1h4v1h4v1h4v1h4v1h4v1h3v1h4v1h3v1h4v1h4v1h3v1h4v1h3v1h4v1h4v1h3v1h4v1h3v1h4v1h4v1h3v1h4v1h3v1h4v1h4v1h3v1h4v1h3v1h4v1h4v1h3v1h4v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h3v1h3v1h3v1h4v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h4v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h4v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h2v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h2v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h2v1h3v1h3v1h3v1h2v1h3V205h-1v-8h-1v-7h-1v-6h-1v-6h-1v-4h-1v-3h-1v-4h-1v-4h-1v-4h-1v-3h-1v-3h-1v-2h-1v-3h-1v-3h-1v-3h-1v-2h-1v-3h-1v-2h-1v-2h-1v-2h-1v-2h-1v-2h-1v-2h-1v-2h-1v-2h-1v-3h-1v-1h-1v-2h-1v-2h-1v-1h-1v-2h-1v-2h-1v-1h-1v-2h-1v-1h-1v-2h-1v-2h-1v-1h-1v-2h-1v-1h-1v-1h-1v-2h-1v-1h-1v-1h-1v-2h-1v-1h-1v-1h-1v-2h-1v-1h-1v-1h-1v-2h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-2h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-2v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-3v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3V9h-4V8h-4V7h-4V6h-4V5h-3V4h-6V3h-6V2h-7V1h-8V0"/></g></g></g><g id="g44"><g clip-path="url(#clipPath50)" id="g46"><path id="path58" style="fill:url(#radialGradient56);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M629.297.0H226.125C101.242.0.0 101.242.0 226.129V718.891C107.547 438.559 323.551 174.031 629.297.0"/></g></g><g id="g60"><g clip-path="url(#clipPath66)" id="g62"><path id="path74" style="fill:url(#radialGradient72);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1446.64 243.48c-7.08.0-14.19.04-21.32.129-513.492 6.403-1013.972 353.543-1014.16 883.741.0 6.82.078 13.67.242 20.55 4.86 203.67 75.641 388.91 200.18 528.74 357.055-76.79 742.208-123.78 1144.868-135.3 1.19-10.88 1.78-21.47 1.78-31.67.0-158.46-93.71-362.76-323.76-411.92-16.22-3.46-33.02-5.14-50.05-5.14-128.9.0-270.89 96.16-270.89 241.3.01 55.44 20.72 118.01 70.79 185.12v0 0c-6.86.31-13.68.47-20.47.47-194.17.0-359.823-127.26-369.948-346.93-.445-9.63-.66-19.11-.656-28.48.192-374.238 352.464-544.238 631.184-544.231 33.9.0 66.74 2.512 97.7 7.481 531.82 85.371 731.02 430 731.08 898.81.0 2.99-.01 5.99-.02 9-.05 10.06-.29 20.08-.71 30.09 130.03 5.79 258.13 15.29 383.89 28.29 2.97-34.84 4.5-69.87 4.55-104.94.0-.72.0-1.41.0-2.13C2640.99 740.891 2196.61 243.469 1446.64 243.48"/></g></g><g id="g76"><g clip-path="url(#clipPath82)" id="g78"><path id="path90" style="fill:url(#radialGradient88);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m0 1610.38v235.99C30.418 1835.84 61.1133 1825.55 92.1484 1815.5 56.4141 1752.09 25.3867 1683.72.0 1610.38"/></g></g><g id="g92"><g clip-path="url(#clipPath98)" id="g94"><g clip-path="url(#clipPath104)" id="g100"><path id="path112" style="fill:url(#radialGradient110);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m3129 1654v10h-1v11h-1v8h-1v8h-1v9h-1v8h-1v8h-1v9h-1v8h-1v7h-1v7h-1v6h-1v6h-1v7h-1v6h-1v6h-1v7h-1v6h-1v6h-1v7h-1v6h-1v6h-1v6h-1v5h-1v5h-1v5h-1v5h-1v5h-1v5h-1v5h-1v5h-1v4h-1v5h-1v5h-1v5h-1v5h-1v5h-1v5h-1v5h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v4h-1v3h-1v3h-1v4h-1v3h-1v3h-1v4h-1v3h-1v3h-1v4h-1v3h-1v4h-1v3h-1v3h-1v4h-1v3h-1v3h-1v4h-1v3h-1v3h-1v4h-1v3h-1v3h-1v4h-1v3h-1v3h-1v2h-1v3h-1v3h-1v3h-1v3h-1v3h-1v3h-1v2h-1v3h-1v3h-1v3h-1v3h-1v3h-1v3h-1v2h-1v3h-1v3h-1v3h-1v3h-1v3h-1v3h-1v2h-1v3h-1v3h-1v3h-1v3h-1v2h-1v3h-1v2h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v3h-1v2h-1v2h-1v2h-1v2h-1v3h-1v2h-1v2h-1v2h-1v2h-1v3h-1v2h-1v2h-1v2h-1v2h-1v2h-1v3h-1v2h-1v2h-1v2h-1v2h-1v3h-1v2h-1v2h-1v2h-1v2h-1v3h-1v2h-1v2h-1v2h-1v2h-1v2h-1v3h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v1h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v1h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v2h-1v1h-1v2h-1v2h-1v2h-1v1h-1v2h-1v2h-1v2h-1v1h-1v2h-1v2h-1v1h-1v2h-1v2h-1v2h-1v1h-1v2h-1v2h-1v2h-1v1h-1v2h-1v2h-1v2h-1v1h-1v2h-1v2h-1v1h-1v2h-1v2h-1v2h-1v1h-1v2h-1v2h-1v2h-1v1h-1v2h-1v2h-1v2h-1v1h-1v2h-1v1h-1v2h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v2h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v2h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v2h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v2h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v2h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v2h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-1v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-1v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-2v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-2v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-2v1h-1v1h-2v1h-1v1h-2v1h-2v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-2v1h-1v1h-2v1h-1v1h-2v1h-1v1h-2v1h-2v1h-1v1h-2v1h-1v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-1v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-2v1h-3v1h-2v1h-2v1h-2v1h-2v1h-3v1h-2v1h-2v1h-2v1h-3v1h-2v1h-2v1h-2v1h-2v1h-3v1h-2v1h-2v1h-2v1h-3v1h-2v1h-2v1h-2v1h-2v1h-3v1h-2v1h-2v1h-2v1h-3v1h-2v1h-2v1h-2v1h-3v1h-2v1h-3v1h-2v1h-3v1h-2v1h-3v1h-2v1h-3v1h-2v1h-3v1h-3v1h-2v1h-3v1h-2v1h-3v1h-2v1h-3v1h-2v1h-3v1h-2v1h-3v1h-2v1h-3v1h-2v1h-3v1h-3v1h-2v1h-3v1h-2v1h-3v1h-2v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-2v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-3v1h-2v1h-4v1h-3v1h-4v1h-3v1h-3v1h-4v1h-3v1h-4v1h-3v1h-4v1h-3v1h-3v1h-4v1h-3v1h-4v1h-3v1h-4v1h-3v1h-4v1h-3v1h-3v1h-4v1h-3v1h-4v1h-3v1h-4v1h-5v1h-4v1h-4v1h-4v1h-4v1h-4v1h-4v1h-4v1h-5v1h-4v1h-4v1h-4v1h-4v1h-4v1h-4v1h-4v1h-5v1h-4v1h-4v1h-4v1h-5v1h-6v1h-5v1h-5v1h-5v1h-5v1h-5v1h-5v1h-5v1h-6v1h-5v1h-5v1h-5v1h-5v1h-5v1h-5v1h-5v1h-7v1h-7v1h-6v1h-7v1h-7v1h-6v1h-7v1h-7v1h-6v1h-7v1h-7v1h-6v1h-7v1h-8v1h-9v1h-10v1h-9v1h-10v1h-9v1h-10v1h-9v1h-10v1h-9v1h-13v1h-16v1h-16v1h-16v1h-16v1h-16v1h-27v1h-36v1h-84v-1h-37v-1h-26v-1h-17v-1h-16v-1h-16v-1h-17v-1h-16v-1h-12v-1h-10v-1h-9v-1h-10v-1h-10v-1h-10v-1h-9v-1h-10v-1h-10v-1h-9v-1h-7v-1h-7v-1h-7v-1h-7v-1h-7v-1h-7v-1h-7v-1h-7v-1h-7v-1h-7v-1h-7v-1h-6v-1h-7v-1h-6v-1h-5v-1h-5v-1h-6v-1h-5v-1h-5v-1h-6v-1h-5v-1h-6v-1h-5v-1h-5v-1h-6v-1h-5v-1h-5v-1h-6v-1h-5v-1h-5v-1h-4v-1h-5v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-5v-1h-4v-1h-5v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-5v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-2v-1h-2v-1h-3v-1h-2v-1h-3v-1h-2v-1h-3v-1h-2v-1h-2v-1h-3v-1h-2v-1h-3v-1h-2v-1h-2v-1h-3v-1h-2v-1h-3v-1h-2v-1h-3v-1h-2v-1h-2v-1h-3v-1h-2v-1h-3v-1h-2v-1h-3v-1h-2v-1h-2v-1h-3v-1h-2v-1h-3v-1h-2v-1h-2v-1h-2v-1h-2v-1h-3v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-3v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-3v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-3v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-3v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-3v-1h-1v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-2v-1h-1v-1h-1v-1h-2v-1h-1v-1h-1v-1h-1v-1H9v-1H8v-1H7v-1H5v-1H4v-1H3v-1H1v-1H0v928h1v8h1v7h1v6h1v6h1v4h1v4h1v3h1v4h1v4h1v3h1v3h1v3h1v2h1v3h1v3h1v3h1v2h1v2h1v2h1v2h1v2h1v3h1v2h1v2h1v2h1v2h1v2h1v1h1v2h1v2h1v1h1v2h1v1h1v2h1v2h1v1h1v2h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v2h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h1v1h1v1h1v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h1v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h1v1h2v1h2v1h2v1h2v1h2v1h2v1h2v1h2v1h3v1h2v1h2v1h3v1h2v1h3v1h3v1h3v1h2v1h3v1h4v1h4v1h4v1h4v1h3v1h5v1h7v1h6v1h7v1h3547v-1h7v-1h6v-1h7v-1h5v-1h3v-1h4v-1h4v-1h4v-1h4v-1h3v-1h2v-1h3v-1h3v-1h3v-1h2v-1h3v-1h2v-1h3v-1h2v-1h2v-1h2v-1h2v-1h2v-1h2v-1h2v-1h2v-1h2v-1h1v-1h2v-1h2v-1h1v-1h2v-1h2v-1h1v-1h2v-1h2v-1h1v-1h2v-1h1v-1h1v-1h2v-1h1v-1h1v-1h2v-1h1v-1h1v-1h2v-1h1v-1h1v-1h2v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h2v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-2h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-1h1v-2h1v-1h1v-1h1v-2h1v-1h1v-1h1v-2h1v-1h1v-1h1v-2h1v-1h1v-1h1v-2h1v-2h1v-1h1v-2h1v-2h1v-1h1v-2h1v-1h1v-2h1v-2h1v-1h1v-2h1v-2h1v-2h1v-2h1v-2h1v-3h1v-2h1v-2h1v-2h1v-2h1v-2h1v-3h1v-3h1v-3h1v-2h1v-3h1v-3h1v-3h1v-4h1v-3h1v-4h1v-4h1v-4h1v-6h1v-6h1v-7h1v-7h1V1874h-1v-1h-2v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-3v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-3v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-6v-1h-5v-1h-6v-1h-5v-1"/></g></g></g><g id="g114"><g clip-path="url(#clipPath120)" id="g116"><path id="path128" style="fill:url(#radialGradient126);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1755.19 1551.36c-399.41 11.49-781.456 57.98-1135.866 133.85 138.356 150.6 340.457 246.42 590.476 252.35 6.58.15 13.04.23 19.49.23 346.13.0 502.8-222.81 525.9-386.43"/></g></g><g id="g130"><g clip-path="url(#clipPath136)" id="g132"><path id="path144" style="fill:url(#radialGradient142);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m2252.01 1555.2c-25.76 478.63-465.27 893.58-1030.52 899.24-4.01.05-7.98.07-11.99.07-400.941.0-865.609-200.84-1112.293-630.12-32.7773 10.6-65.1211 21.44-97.207 32.58v446.9c283.336 294.21 699.672 497.51 1232.1 497.51 24.26.0 48.81-.42 73.55-1.28 754.97-26.1 1271.87-595.31 1329.83-1216.63-125.64-13-253.55-22.49-383.47-28.27"/></g></g><g id="g146"><g clip-path="url(#clipPath152)" id="g148"><g clip-path="url(#clipPath158)" id="g154"><path id="path166" style="fill:url(#radialGradient164);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m3130 1644v9h-1v2h2v1h5v1h6v1h5v1h6v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h5v1h4v1h5v1h5v1h4v1h5v1h5v1h4v1h5v1h4v1h5v1h5v1h4v1h5v1h5v1h4v1h5v1h4v1h5v1h5v1h4v1h5v1h5v1h4v1h4v1h4v1h5v1h4v1h4v1h4v1h5v1h4v1h4v1h4v1h4v1h5v1h4v1h4v1h4v1h5v1h4v1h4v1h4v1h5v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h3v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h3v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h4v1h3v1h4v1h4v1h3v1h4v1h3v1h4v1h3v1h4v1h4v1h3v1h4v1h3v1h4v1h4v1h3v1h4v1h3v1h4v1h4v1h3v1h4v1h3v1h4v1h3v1h4v1h4v1h3v1h4v1h3v1h4v1h3v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h4v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h4v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h4v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h2v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h3v1h2v1h3v1h3v1h3v1h3v1h3v1h3v1h2v1h3v1h3v1h3v1h2v1h2v-12h-2v-1h-2v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-2v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-3v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-3v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-3v-1h-4v-1h-3v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-3v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-3v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-4v-1h-3v-1h-4v-1h-5v-1h-4v-1h-4v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-4v-1h-4v-1h-5v-1h-4v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-5v-1h-4v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-5v-1h-6v-1h-5v-1h-5v-1h-6v-1h-5v-1"/></g></g></g><g id="g168"><g clip-path="url(#clipPath174)" id="g170"><path id="path182" style="fill:url(#radialGradient180);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1756.45 1541.34c-402.66 11.52-787.813 58.51-1144.868 135.3 2.551 2.87 5.145 5.74 7.742 8.57 354.41-75.87 736.456-122.36 1135.866-133.85.48-3.37.9-6.7 1.26-10.02"/></g></g><g id="g184"><g clip-path="url(#clipPath190)" id="g186"><path id="path198" style="fill:url(#radialGradient196);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m2252.48 1545.24c-.14 3.31-.3 6.66-.47 9.96 129.92 5.78 257.83 15.27 383.47 28.27.31-3.3.6-6.63.89-9.94-125.76-13-253.86-22.5-383.89-28.29"/></g></g><g id="g200"><g clip-path="url(#clipPath206)" id="g202"><path id="path214" style="fill:url(#radialGradient212);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M92.1484 1815.5C61.1133 1825.55 30.418 1835.84.0 1846.37v0 10.6c32.0859-11.14 64.4297-21.98 97.207-32.58-1.6992-2.96-3.3789-5.91-5.0586-8.89"/></g></g></g></g></svg></span>Hipfile</h4></header><p class=attachment-description>jamesr_decay.hiplc</p><a class=attachment-link href=houdini/hip/jamesr_decay.hiplc></a></article></details></div><p>One of the most common use cases for the <strong>Solver SOP</strong> is to accumulate values over time.</p><h3 id=accumulating--substeps>Accumulating & Substeps<a hidden class=anchor aria-hidden=true href=#accumulating--substeps>🔗</a></h3><p>Accumulating a value like color or density over time is pretty straightforward.</p><ul><li>Add to the value from the previous timestep</li><li>Clamp as needed</li></ul><pre tabindex=0><code class=language-vex data-lang=vex>f@density += chf(&#34;accumulate&#34;);
f@density = clamp(f@density, 0, 1.0);
</code></pre><p>When you introduce substeps, the accumulation can get a little crazy! Since the solver is doing this addition <em>each timestep</em>, you&rsquo;ll wind up increasing the value much more quickly than with just one substep. Luckily the solution is pretty straight forward: multiply your accumulation scale by <code>f@TimeInc</code> before adding.</p><pre tabindex=0><code class=language-vex data-lang=vex>f@density += chf(&#34;accumulate&#34;) * f@TimeInc;
f@density = clamp(f@density, 0, 1.0);
</code></pre><h3 id=decaying--substeps>Decaying & Substeps<a hidden class=anchor aria-hidden=true href=#decaying--substeps>🔗</a></h3><p>Accumulating was easy enough right? At first you might think the same could be done for decaying or fading a value over time (<a href=https://forums.odforce.net/topic/30990-solver-sop-and-substeps/>like I did</a>&mldr;oof!).</p><p>If you&rsquo;re decreasing the value by subtracting, multiplying by <code>f@TimeInc</code> is just fine.</p><p>But if you&rsquo;re doing a fading effect where you&rsquo;re multiplying by some value between 0 and 1, multiplying by the time increment will actually have <em>the opposite</em> effect!</p><p>Imagine you start with a <code>f@density</code> value of <code>1.0</code>, and you have a decay rate of <code>0.98</code>. At 1 substep, each frame you are multiplying the previous value by <code>0.98</code>. So by frame 2, your <code>f@density</code> attribute is <code>0.98</code>, frame 3 <code>0.9604</code>&mldr;and so on.</p><p>But if you multiply your decay rate by the time increment, you get a number that&rsquo;s much much lower!</p><pre tabindex=0><code>// f@Timeinc = 0.0416
0.98 * f@Timeinc = 0.040768
</code></pre><p>In this case, each <em>substep</em> we&rsquo;d be multiplying the value by <code>0.040768</code>. Even after just a single step we&rsquo;d probably have all our value eaten away, which is exactly the problem we want to avoid.</p><h3 id=get-to-the-solution-already>Get to the solution already!<a hidden class=anchor aria-hidden=true href=#get-to-the-solution-already>🔗</a></h3><p>Alright alright, we actually have a few ways to solve this one.</p><h4 id=subtract-and-clamp>Subtract and Clamp<a hidden class=anchor aria-hidden=true href=#subtract-and-clamp>🔗</a></h4><p>This first way is similar to the additive accumulation method above (subtraction is really just addition in disguise anyways). Instead of decreasing the value by multiplying, we&rsquo;ll just subtract some small amount each timestep:</p><pre tabindex=0><code>v@Cd.x = max(0, v@Cd.x - (chf(&#34;decay&#34;) * f@Timeinc));
</code></pre><h4 id=power-function>Power Function<a hidden class=anchor aria-hidden=true href=#power-function>🔗</a></h4><p>The second way uses VEX&rsquo;s <code>pow()</code> function to decay the value over time.</p><blockquote><p>This method will have a different decaying behavior vs just doing a simple multiplication on a single substep. But it tends to look pretty natural so go ahead and try it out</p></blockquote><pre tabindex=0><code>v@Cd.x *= pow(chf(&#34;decay&#34;), f@Timeinc);
</code></pre><p>Easy as that! Try it in a Solver SOP with different substep values and see the comparison (or take a look at the attached hipfile). Should be pretty close.</p><h4 id=linear-combination-dop>Linear Combination DOP<a hidden class=anchor aria-hidden=true href=#linear-combination-dop>🔗</a></h4><p>This method is less for when you&rsquo;re trying to do this in a SOP solver, and more for if you&rsquo;re building a setup in DOPs (and want to use this microsolver for something!)</p><p>It&rsquo;s really as simple and changing the dropdown next to the <strong>Coefficient</strong> parameter from <strong>None</strong> to <code>e^Timestep</code>. Looks pretty similar to what we just did above!</p><figure><img loading=lazy src=images/linear-combo-dop.jpg alt="Gas Linear Combination DOP"><figcaption><p>Gas Linear Combination DOP</p></figcaption></figure></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.jamesrobinsonvfx.com/tags/solver/>solver</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/tips/>tips</a></li><li><a href=https://www.jamesrobinsonvfx.com/tags/vex/>vex</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://www.jamesrobinsonvfx.com>James Robinson 🌊</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.8)"})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>